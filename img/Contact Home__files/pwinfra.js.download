/*<ORACLECOPYRIGHT>
* Copyright (C) 2008-2016
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 16.18.0.0SIA[23057]PATCHSET18 */
typeof SiebelAppFacade.BasePW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.BasePW"),define("siebel/basepw",[],function(){return SiebelAppFacade.BasePW=function(){function e(e){var t=null,n=!1,r=!1,i={},s=0;this.control=e,this.SetElementCaching=function(e){n=e,n||(t=null,r=!1)},this.IsElementCachingEnabled=function(){return n},this.CacheElement=function(e){n&&(t=e,r=!0)},this.GetCachedElement=function(){return t},this.IsCached=function(){return r},this.GetNoOfEl=function(){return s},this.SetNoOfEl=function(e){s=e},this.CacheState=function(e,n){n=n||{},this.GetNoOfEl()===1?(n.index=0,n.OneEl=!0):n.OneEl=!1;var r=n.index||0;i.OneEl=n.OneEl,i[r]||(i[r]={}),i[r][e]=n.stateValue,n.ctrlName=this.control.GetName(),this.ExecuteMethod("UpdateUIState",e,n),e==="CtrlEndLife"&&(i={},t=null)},this.GetStateValue=function(e,t){return i[i.OneEl?0:t]?i[i.OneEl?0:t][e]:undefined}}return e.prototype={Init:function(){},GetEl:function(){},ShowUI:function(){},BindEvents:function(){},BindData:function(){},SetValue:function(){},GetValue:function(){},BeginQuery:function(){},EndQuery:function(){},IsInLeaveField:function(){},OpenPopup:function(){},ClosePopup:function(){},GetIconMap:function(e){},GetTextHtml:function(e){},HandleKey:function(e){},SetState:function(e,t){},InjectQTPInfo:function(e){},EndLife:function(){this.CacheState("CtrlEndLife"),this.control=null}},e}(),SiebelAppFacade.BasePW})),typeof SiebelAppFacade.FieldPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.FieldPW"),define("siebel/FieldPW",["siebel/basepw"],function(){return SiebelAppFacade.FieldPW=function(){function u(){SiebelAppFacade.FieldPW.superclass.constructor.apply(this,arguments)}function a(e,t,n){if(!n||n.length===0)e.nextAll('[id^="'+this.control.GetInputName()+'"]').addBack().last().after('<span id="'+t+'" ><span>'),n=e.nextAll("#"+t);return n}function f(){var t=SiebelAppFacade.ComponentMgr.FindComponent({id:e.get("SWE_PST_COMM_TOOLBAR")});return t&&t.ExecuteMethod("CallContactFromUIEnabled")?t:null}function l(e){var t=f.call(this),n="applet-form-phone siebui-icon-phone-outbound",r,i=SiebelApp.S_App.GetAccessibilityEnhanced(),s=e.attr("id")||this.control.GetInputName(),o=s+"_icon";t?r=$("<span  class='"+(n||"")+"' id='"+o+"'></span>"):SiebelAppFacade.DecisionManager.IsTouch()&&(r=$("<a href='tel:"+e.val()+"'  class='"+(n||"")+"' id='"+o+"'></a>")),e.addClass("siebui-align-"+this.control.GetJustification()),i&&e.not(".siebui-ctrl-phone").attr("aria-describedby",(e.attr("aria-describedby")||"")+" "+o);if(t||SiebelAppFacade.DecisionManager.IsTouch())e.not(".siebui-ctrl-phone").addClass("siebui-ctrl-phone siebui-input-popup").after(r),e.attr("aria-label",SiebelApp.S_App.LocaleObject.GetLocalString("IDS_CTI_PHONE_NUMBER_FIELD"))}function c(t){var n=t.data.ctx?t.data.ctx:this,r=n.OnControlEvent(e.get("PHYEVENT_CONTROL_FOCUS"),n.control,$(this).val());if(r===!1)return t.preventDefault(),t.stopPropagation(),!1}function h(n){var i=n.data.ctx?n.data.ctx:this,s=i.control,o=$(this).val();if(i.IsInLeaveField(this))return;if(s.GetUIType()===r){var u=i.ExecuteMethod("GetFormattedFieldValue",s,!1),a=t.NormalizeTextVal(u);a==o&&(o=u)}i.OnControlEvent(e.get("PHYEVENT_CONTROL_BLUR"),i.control,o)}function p(e){var t=e.data.ctx?e.data.ctx:this,n=t.control;SiebelAppFacade.DecisionManager.PauseVKeyboard($(this)),t.OnControlEvent(o[t.control.GetUIType()],n,$(this).val()),SiebelAppFacade.DecisionManager.ResumeVKeyboard($(this))}function d(e){var t=e.data.ctx;e.data.ctrl=t.control,t.OnKey($(this),e,$(this).val())}function v(e,t,n,r){var i='<a  id ="'+e.GetInputName()+'_mb" '+' class = "siebui-ctrl-drilldown" '+' name = "'+e.GetName()+'" '+' tabindex="-1"'+' rowId = "'+(r+1)+'" '+' href="javascript:void(0)" '+">"+HtmlEncode(t)+"</a>",s="siebui-drilldown-input siebui-align-"+e.GetJustification(),o=e.GetInputName()+"_IPEField",u=n.attr("data-seq"),a=n.attr("style"),f='<div data-seq= "'+u+'"'+'tabindex= "'+"0"+'"'+' id = "'+o+'"'+' style = "'+a+'"'+' class= "'+s+'"'+">"+i+"<div>",l=document.activeElement===n[0];l||(l=document.activeElement===n.nextAll("#"+e.GetInputName()+"_span").children("div#"+o)[0]);var c=n.nextAll("#"+e.GetInputName()+"_span").find("a"),h=c.html(),p=c.attr("rowId");if(HtmlDecode(h)!==t||p!==(r+1).toString())n.nextAll("#"+e.GetInputName()+"_span").html(f),function(e,t,n){e.nextAll("#"+n.GetInputName()+"_span").children("div#"+o).click(function(r){g.call(t,!0,e,!1,n)}).bind("keypress",function(r){r.keyCode===13&&g.call(t,!0,e,!1,n)}),e.bind("blur",function(e){y.call(t,e,n)})}(n,this,e);l&&n.nextAll("#"+e.GetInputName()+"_span").children("div#"+o).focus(),c=null}function m(e,t,n,r){var i=this.Get("GridFormContent")?e.GetSeq():"0",s='<div class = "siebui-anchor-readonly" tabindex="0" data-seq='+i+">"+' <a id ="'+e.GetInputName()+'_mb" '+' class = "siebui-ctrl-drilldown" '+' name = "'+e.GetName()+'" '+' rowId = "'+(r+1)+'" '+' href="javascript:void(0)" >'+HtmlEncode(t)+"</a></div>",o=n.nextAll("#"+e.GetInputName()+"_span").find("a"),u=o.html(),a=o.attr("rowId");(HtmlDecode(u)!==t||a!==(r+1).toString())&&n.nextAll("#"+e.GetInputName()+"_span").html(s),this.InjectQTPInfo($("#"+e.GetInputName()+"_mb"),e),o=null}function g(e,n,r,i){var s=n.nextAll("#"+this.control.GetInputName()+"_span"),o=i.GetScriptProperty("Visible"),u=n.attr("name"),a;e?(a=s.children("div#"+u+"_IPEField").text(),s.styleHide(),t.DecideVisibility(n.nextAll("img#"+u+"_icon").add(n),o),n.val(a)):(a=n.val(),t.DecideVisibility(s,o),n.nextAll("img#"+u+"_icon").styleHide(),n.styleHide(),s.children("div#"+u+"_IPEField").children().val(a)),r!==!0&&n.focus()}function y(e,t){if(!this.Get("IsInQueryMode")){var n=$("#s_"+this.Get("GetFullId")+"_div").find("div[id$='_IPEField']").filter(":hidden"),r=n.attr("id");if(r){var i=n.parent().prevAll("[name="+r.substring(0,r.indexOf("_IPEField"))+"]").eq(0);(n.length&&e&&e.keyCode===$.ui.keyCode.TAB||i.length&&document.activeElement!==i[0])&&g.call(this,!1,i,!0,t)}}}var e=SiebelJS.Dependency("SiebelApp.Constants"),t=SiebelJS.Dependency("SiebelApp.Utils"
),n=e.get("SWE_CTRL_TEXT"),r=e.get("SWE_CTRL_TEXTAREA"),i=e.get("SWE_CTRL_PHONE"),s=e.get("CTRLVALUE"),o={};return o[e.get("SWE_CTRL_MVG")]=e.get("PHYEVENT_INVOKE_MVG"),o[e.get("SWE_CTRL_PICK")]=e.get("PHYEVENT_INVOKE_PICK"),o[e.get("SWE_CTRL_EFFDAT")]=e.get("PHYEVENT_INVOKE_EFFDAT"),o[e.get("SWE_CTRL_CURRENCY_CALC")]=e.get("PHYEVENT_INVOKE_CURRENCY"),o[e.get("SWE_CTRL_TEXT")]=e.get("PHYEVENT_INVOKE_DETAIL_POPUP"),SiebelJS.Extend(u,SiebelAppFacade.BasePW),u.prototype.GetEl=function(e,t){var n=null;if(this.control&&typeof this.control.GetInputName=="function")if(this.IsElementCachingEnabled()&&this.IsCached())n=this.GetCachedElement();else{var r=$($("#s_"+this.Get("GetFullId")+"_div")[0]||document);t||(n=r.find("."+this.control.GetInputName()));if(!n||!n.length)n=r.find('[name="'+this.control.GetInputName()+'"]');n.length||(n=$("#"+this.control.GetInputName())),n.length||(n=this.GetUIContext(this.control)),this.SetNoOfEl(n?n.length:0),n&&!isNaN(parseInt(e,10))&&n.length&&(n=n.eq(n.length>e?e:0)),this.CacheElement(n),r=null}return n},u.prototype.ShowUI=function(){SiebelAppFacade.FieldPW.superclass.ShowUI.call(this);var e=this.GetEl(undefined,!0),t=this.control.GetPopupType();e&&(SiebelAppFacade.HTMLTemplateManager.EnhanceMarkup({type:this.control.GetUIType(),el:e,id:this.control.GetInputName(),className:"siebui-align-"+this.control.GetJustification(),addIcon:t}),e.attr({maxlength:this.control.GetMaxSize()||256,tabindex:this.Get("GridFormContent")?this.control.GetSeq():"0"}),this.control.GetUIType()===n&&this.ExecuteMethod("GetFieldDataType",this.control.GetFieldName())===i.toLowerCase()&&!this.control.GetPopupType()&&l.call(this,e),this.InjectQTPInfo(e),e.addClass(this.control.GetInputName()))},u.prototype.BindEvents=function(){var e=this.GetEl(),t=this.Helper("EventHelper"),n=e&&e.next('span[id^="'+this.control.GetInputName()+'"]');SiebelAppFacade.FieldPW.superclass.BindEvents.call(this),e&&t&&(t.Manage(e,"focus",{ctx:this},c).Manage(e,"blur",{ctx:this},h).Manage(e,"keydown",{ctx:this},d),n&&n.length!==0&&t.Manage(n,"click",{ctx:this},p))},u.prototype.BindData=function(){SiebelAppFacade.FieldPW.superclass.BindData.call(this)},u.prototype.SetValue=function(o,u){u=u||0;var f=this.GetEl(u),l=null,c,h,p,d,g=!1,y=this.control.GetScriptProperty("Visible"),b=(this.control.GetUIType()===n||this.control.GetUIType()===r)&&!t.IsTrue(this.control.IsEncode()),w={};w.index=u;if(f&&f.length){if(this.Get("IsTaggedApplet"))f.replaceWith('<div role="document" tabindex="0" title="'+o+'" name="'+f.attr("name")+'" ot="'+f.attr("ot")+'" rn="'+f.attr("rn")+'" un="'+f.attr("un")+'" aria-label="'+this.control.GetDisplayName()+'">'+o+"</div>");else{c=this.control.GetInputName()+"_span",p=this.ExecuteMethod("CanUpdate",this.control.GetName()),d=this.ExecuteMethod("CanNavigate",this.control.GetName(),u),w.stateValue=d,this.CacheState("CanNavigate",w),h=f.nextAll("#"+c),w.stateValue=y;if((this.control.GetShowBase()||b)&&!p)b&&(g=!0),o=this.GetTextHtml(o,g),o.hasOwnProperty("text")?(h.html("").styleHide(),t.DecideVisibility(f.val(o.text),y)):(t.DecideVisibility(a.call(this,f,c,h).html(o.html),y),f.val(o).styleHide(),w.stateValue=!1);else if(d&&o&&(o+"").trim().length>0)t.DecideVisibility(f.val(o),y),h=a.call(this,f,c,h),p?v.call(this,this.control,o,f,u):m.call(this,this.control,o,f,u),f.styleHide(),t.DecideVisibility(h,y);else{h.html("").styleHide();var E=f.nextAll("#"+this.control.GetInputName()+"_icon");t.DecideVisibility(f.val(o||"").add(E),y),E.removeClass("siebui-invisible")}SiebelAppFacade.DecisionManager.IsTouch()&&this.control.GetUIType()===n&&this.ExecuteMethod("GetFieldDataType",this.control.GetFieldName())===i.toLowerCase()&&(l=SiebelAppFacade.ComponentMgr.FindComponent({id:e.get("SWE_PST_COMM_TOOLBAR")}),l||$(f).nextAll("a.siebui-icon-phone-outbound").eq(0).attr("href","tel:"+f.val())),this.CacheState(e.get("SHOW"),w)}p||f.trigger("input.responsive")}w.stateValue=o,this.CacheState(s,w)},u.prototype.GetValue=function(e){return(this.GetEl(e)||$()).val()},u.prototype.SetState=function(n,r,i){var s=this.GetStateValue(n,i?i:0);if(s===undefined||s!==r){var o=this.GetEl(i),u=this.control.GetScriptProperty("Visible");r=r===undefined?!0:r;if(o&&o.length)switch(n){case e.get("EDITABLE"):o.attr({readOnly:!r,"aria-readonly":!r}),this.CacheState(n,{stateValue:r,index:i});break;case e.get("ENABLE"):o.attr("disabled",!r),this.CacheState(n,{stateValue:r,index:i,methodName:this.control.GetMethodName()});break;case e.get("SHOW"):r=r?u:!1,t.DecideVisibility(o,r),this.CacheState(n,{stateValue:r,index:i});break;case e.get("FOCUS"):r?o.focus():o.blur()}}},u.prototype.BeginQuery=function(){SiebelAppFacade.FieldPW.superclass.BeginQuery.call(this);var e=this.GetEl();e&&(e.removeAttr("maxlength"),this.control.GetCaseSensitive()&&this.ExecuteMethod("CanUpdate",this.control.GetName())&&(e.data("old_placeholder",e.attr("placeholder")||""),e.attr("placeholder",SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"))))},u.prototype.EndQuery=function(){var e=this.GetEl();SiebelAppFacade.FieldPW.superclass.EndQuery.call(this),e&&(e.attr("maxlength",this.control.GetMaxSize()||256),this.control.GetCaseSensitive()&&(e.data("old_placeholder")!==""?e.attr("placeholder",e.data("old_placeholder")):e.removeAttr("placeholder")))},u.prototype.IsInLeaveField=function(e){return!!$(e).data("inLeaveField")},u.prototype.InjectQTPInfo=function(e){e&&e.length&&this.control&&(typeof this.control.GetObjectType=="function"&&!e.attr("ot")&&e.attr("ot",this.control.GetObjectType()),typeof this.control.GetRepstrName=="function"&&!e.attr("rn")&&e.attr("rn",this.control.GetRepstrName()),typeof this.control.GetUIName=="function"&&!e.attr("un")&&e.attr("un",this.control.GetUIName()))},u.prototype.PrepareConfigAttrInfo=function(e){if(e&&e.length)var t=e.attr("orn"),n=e.attr("ort"),r=e.attr("irt"),i=e.attr("irn");var s='ort="'+n+'" '+'orn="'+t+'" '+'irn="'+i+'" '+'irt="'+r+'" ';return s},u.prototype.GetTextHtml=function(e,n){var r=e,i=!1,s=$.parseHTML(e.trim
())||[],o,u;e="";if(n)for(var a=0;s&&a<s.length;a++)u=$("<span></span>").append(s[a]).find("*").addBack(),o=u.filter("a"),o.length?(u.find("a[href]").attr("target","_blank"),e=(t.IsEmpty(e)?"":e)+u[0].outerHTML,i=!0):s[a].outerHTML?(e=(t.IsEmpty(e)?"":e)+s[a].outerHTML,i=!0):e=(t.IsEmpty(e)?"":e)+s[a].textContent;else for(var a=0;s&&a<s.length;a++)u=$("<span></span>").append(s[a]).find("*").addBack(),o=u.filter("a"),o.length?(u.find("a[href]").attr("target","_blank"),u.html(u.html().replace(/<\/?([a-z]+)[^>]*>/ig,function(e,t){return t.toLowerCase()==="a"?e:""})),e=(t.IsEmpty(e)?"":e)+u[0].outerHTML,i=!0):e=(t.IsEmpty(e)?"":e)+s[a].textContent;var f;if(i){var l=$("span[id='"+this.control.GetInputName()+"_HTML']");l.length===0&&(e="<span id='"+this.control.GetInputName()+"_HTML'>"+e+"</span>"),f={html:e}}else e===""&&(e=r),f={text:e};return f},u.prototype.GetIconMap=function(e){var n="",r=SiebelApp.S_App.GetIconMap(),i=SiebelApp.S_App.LookupStringCache(this.control.GetIconMap()),s,o;if(i){var u=r?r[i]:[];s=u.length;for(var a=0;a<s;a++){o=$(u[a].iconImage),this.control.GetDisplayName()?(o.attr("alt",o.attr("alt")?this.control.GetDisplayName()+":"+o.attr("alt"):o.attr("alt")).attr("title",o.attr("title")?this.control.GetDisplayName()+":"+o.attr("title"):o.attr("title")),o=o[0].outerHTML):o=u[a].iconImage;if(!t.IsEmpty(e)&&u[a].iconName===e){n=o;break}u[a].iconName==="Default"&&(n=o)}}return n},u.prototype.HandleKey=function(t,n,r){n.which===e.get("SWE_F2_KEY")&&(t.next('span[id^="'+this.control.GetInputName()+'"]').click(),n.stopImmediatePropagation())},u}(),SiebelAppFacade.FieldPW})),typeof SiebelAppFacade.NullControlPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.NullControlPW"),define("siebel/NullControlPW",["siebel/basepw"],function(){return SiebelAppFacade.NullControlPW=function(){function e(){SiebelAppFacade.NullControlPW.superclass.constructor.apply(this,arguments)}return SiebelJS.Extend(e,SiebelAppFacade.BasePW),e.prototype.SetValue=function(e,t){var n=$("#"+this.control.GetInputName());n.length>0&&(n.empty().append(e),this.CacheState(SiebelJS.Dependency("SiebelApp.Constants").get("CTRLVALUE"),{stateValue:e,index:0,OneEl:!0}))},e}(),SiebelAppFacade.NullControlPW})),typeof SiebelAppFacade.ButtonPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.ButtonPW"),define("siebel/ButtonPW",["siebel/FieldPW"],function(){return SiebelAppFacade.ButtonPW=function(){function i(){SiebelAppFacade.ButtonPW.superclass.constructor.apply(this,arguments)}function s(e){var t=e.data.ctx,n=$(this);if((n.prop("tagName")||"").toLowerCase()==="button"&&!n.is(":disabled")||n.hasClass("siebui-btn-icon-e")){SiebelApp.S_App.uiStatus.Busy({mask:!0});var r=n.data("timeoutId");r&&clearTimeout(r),r=setTimeout(function(){var e=t.Get("GetControls"),n=t.control.GetPMPropSet(),r=null,i=null,s=!1;n&&n.GetProperty("FileUploadControl")&&(r=e[n.GetProperty("FileUploadControl")],r&&(i=t.GetUIWrapper(r),i&&i.SubmitFile&&(s=i.SubmitFile(t.control)))),s?SiebelApp.S_App.uiStatus.Free():o.call(t,t.control)},0),n.data("timeoutId",r),e.preventDefault()}n=null}function o(e){var n={};n.async=!0,n.cb=function(){var e=Array.prototype.slice.call(arguments),n="";if(e){var r=e.length;n=e[r-1],n instanceof JSSPropertySet||(n=r>1?e[r-2]:""),n instanceof JSSPropertySet&&(n=n.GetPropertyAsStr("Status"))}n!==t.get("SWE_RPC_PROP_NEW_LAYOUT")&&n!==t.get("SWE_RPC_PROP_REFRESH_LAYOUT")&&n!==t.get("SWE_RPC_PROP_NEW_PAGE")&&SiebelApp.S_App.uiStatus.Free()};var r=e.GetMethodPropSet(),i=r.Clone(),s=this.OnControlEvent(t.get("PHYEVENT_INVOKE_CONTROL"),e.GetMethodName(),i,n);if(s===!1)return SiebelApp.S_App.uiStatus.Free(),!1}var e=SiebelJS.Dependency("SiebelApp.Utils"),t=SiebelJS.Dependency("SiebelApp.Constants"),n=t.get("SWE_PST_BUTTON_CTRL"),r=t.get("SWE_CTRL_LINK");return SiebelJS.Extend(i,SiebelAppFacade.FieldPW),i.prototype.ShowUI=function(){var e=this.GetEl(undefined,!0),i=null,s=null,o=null,u=null,a=null;if(e&&e.length){i=this.ExecuteMethod("CanInvokeMethod",this.control.GetMethodName()),s=this.Get("GetAppletLabel"),o=i?this.control.GetEnabledBmp():this.control.GetDisabledBmp(),u=this.Get("GridFormContent")?this.control.GetSeq():"0",a=this.control.GetDisplayName();if(SiebelApp.S_App.IsConfigMode()===!0)var f=this.PrepareConfigAttrInfo(e);s!==""&&(s+=":");if(o)e.addClass(i?"siebui-btn-icon-e":"siebui-btn-icon-d").append(SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:r,value:o})).children("a").attr("tabindex",i?u:"-1").find("img").attr({alt:$(o).attr("alt")?s+$(o).attr("alt"):$(o).find("img").attr("alt"),title:$(o).attr("title")?s+$(o).attr("title"):$(o).find("img").attr("title")});else{var l=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:n,id:this.control.GetInputName()+"_Ctrl",className:(i?"appletButton":"appletButtonDis")+" siebui-icon-"+(this.control.GetMethodName()||"").toLowerCase(),value:"<span>"+a+"</span>",attrs:'name="'+this.control.GetInputName()+'" data-display="'+a+'" tabindex="'+u+'" title="'+s+a+'" '+'aria-label="'+s+a+'" '+(i===!0?" ":'disabled="disabled"')+(SiebelApp.S_App.IsConfigMode()===!0?f:"")});e.replaceWith(l)}e=this.GetEl(),e&&e.length&&(this.InjectQTPInfo(e),e.addClass(this.control.GetInputName())),this.CacheState(t.get("ENABLE"),{stateValue:i})}},i.prototype.BindEvents=function(){var e=this.GetEl(),t=this.Helper("EventHelper");e&&t.Manage(e,"click",{ctx:this},s)},i.prototype.SetState=function(e,n,r){var i=this.GetEl(r);n=n===undefined?!0:n;if(i&&i.length)if(e===t.get("ENABLE")){var s=this.control.GetEnabledBmp(),o=this.control.GetDisabledBmp();if(s||o){var u=n?s:o;if(u){u=$(u);var a=u.find("img").eq(0),f=a.length&&(a.attr("alt")||a.attr("title")),l=n?this.control.GetSeq()||0:"-1";f?u.attr("title",f):!1,i.removeClass("siebui-btn-icon-e siebui-btn-icon-d").addClass(n?"siebui-btn-icon-e":"siebui-btn-icon-d").find("a").attr({tabindex:l,"data-seq":l}).html(u)}}else i.attr("disabled",!n).removeClass("appletButton appletButtonDis").addClass(n?"appletButton":"appletButtonDis");this.CacheState(e,{stateValue
:n})}else SiebelAppFacade.ButtonPW.superclass.SetState.apply(this,arguments);return},i.prototype.SetValue=function(e,t){},i.prototype.GetEl=function(e,t){var n=null;return n=SiebelAppFacade.ButtonPW.superclass.GetEl.call(this,e,t),(!n||!n.length)&&this.control&&typeof this.control.GetInputName=="function"&&(n=$("#"+this.control.GetInputName()+"_Ctrl"),this.CacheElement(n)),n},i}(),SiebelAppFacade.ButtonPW})),typeof SiebelAppFacade.CalculatorPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.CalculatorPW"),define("siebel/calculatorpw",["siebel/FieldPW"],function(){return SiebelAppFacade.CalculatorPW=function(){function t(e){SiebelAppFacade.CalculatorPW.superclass.constructor.call(this,e)}function n(t){var n=t.data.ctx;n.OnControlEvent(e.get("PHYEVENT_CONTROL_FOCUS"),n.control,$(this).val())}function r(t){var n=t.data.ctx;if(n.IsInLeaveField(this))return;n.Get("isControlPopupOpen")==0&&n.OnControlEvent(e.get("PHYEVENT_CONTROL_BLUR"),n.control,$(this).val())}function i(e){var t=e.data.ctx;e.data.ctrl=t.control,t.OnKey($(this),e,$(this).val())}function s(t){var n=t.data.ctx,r=n.GetEl(),i=null;SiebelAppFacade.DecisionManager.PauseVKeyboard(r);if(!n.OnControlEvent(e.get("PHYEVENT_CONTROL_FOCUS"),n.control)){SiebelAppFacade.DecisionManager.ResumeVKeyboard(r);return}if(r&&n.ExecuteMethod("CanUpdate",n.control.GetName())){r.length>1&&(i=r.next("span.siebui-icon-calc").index($(this)),r=r.eq(i>=0?i:0)),n.SetProperty("isControlPopupOpen",!0);var s=SiebelApp.S_App.LocaleObject.GetDispNumberDecimal()||e.get("SWE_DECIMAL_CONST"),u=s[0].toLowerCase(),a=["a","b","c","d","e","f","A","B","C","D","E","F"],f="",l=a.length;for(var c=0;c<l;c++)if(a[c]===s[0]){f=s[0].replace(a[c],"["+a[c]+"]");break}s=f?f+s.substring(1,s.length):s,$.calculator.addKeyDef("dc",s,$.calculator.digit,null,"mykey","DC",u);var h=["_%BSCECA","_1_2_3_+@X","_4_5_6_-@U","_7_8_9_*@E","dc_0_=_/"];r.calculator({layout:h,onClose:function(e,t){o.call(this,n,e,t),SiebelAppFacade.DecisionManager.ResumeVKeyboard(r)},decimalChar:s}),r.val(SiebelApp.S_App.LocaleObject.FormattedToString(n.ExecuteMethod("GetFieldDataType",n.control.GetFieldName()),r.val(),n.control.GetDisplayFormat())),r.calculator("show"),$.calculator._getInst(r)._mainDiv.attr({"aria-label":"Calculator Popup",role:"application","aria-atomic":"true","aria-live":"assertive","aria-relevant":"all"})}}function o(e,t,n){if($(this).parents("body").length){var r=(""+t).replace(/\[/g,"").replace(/\]/g,"");$(this).calculator("destroy").val(r).focus(),e.SetProperty("isControlPopupOpen",!1)}}var e=SiebelJS.Dependency("SiebelApp.Constants");return SiebelJS.Extend(t,SiebelAppFacade.FieldPW),t.prototype.ShowUI=function(e){var t=this.GetEl();if(t){SiebelAppFacade.HTMLTemplateManager.EnhanceMarkup({el:t,type:this.control.GetUIType(),id:this.control.GetInputName(),className:"siebui-align-"+this.control.GetJustification()});var n=this.Get("GridFormContent")?this.control.GetSeq():"0";t.attr({maxlength:this.control.GetMaxSize()||256,tabindex:n}),this.InjectQTPInfo(t)}},t.prototype.BindEvents=function(e){var t=this.GetEl(),o=this.Helper("EventHelper");t&&t.length&&o.Manage(t,"focus",{ctx:this},n).Manage(t,"blur",{ctx:this},r).Manage(t,"keydown",{ctx:this},i).Manage(t.next("span.siebui-icon-calc"),"click",{ctx:this},s)},t.prototype.OpenPopup=function(){var e=this.GetEl();if(e&&e.length>1){var t=e.index($(document.activeElement));e=t>=0?e.eq(t):$()}e.next(".siebui-icon-calc").click()},t.prototype.HandleKey=function(e,t){switch(t.which){case $.ui.keyCode.ENTER:var n=e.data("calculator");n&&(n._pendingOp(n),e.val(n.curValue));break;default:}},t}(),"SiebelAppFacade.CalculatorPW"})),typeof SiebelAppFacade.CheckBoxPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.CheckBoxPW"),define("siebel/checkboxpw",["siebel/FieldPW"],function(){return SiebelAppFacade.CheckBoxPW=function(){function n(){SiebelAppFacade.CheckBoxPW.superclass.constructor.apply(this,arguments)}function r(t){var n=t.data.ctx,r=n.OnControlEvent(e.get("PHYEVENT_CONTROL_FOCUS"),n.control,$(this).val());if(r===!1)return t.preventDefault(),t.stopPropagation(),!1}function i(t){var n=t.data.ctx,r=$(this);if(n.IsInLeaveField(this))return;if(r.data("webkit-mousedown")){r.removeData("webkit-mousedown");return}n.OnControlEvent(e.get("PHYEVENT_CONTROL_BLUR"),n.control,$(this).val())}function s(e){$(this).data("webkit-mousedown",!0),$(this).data("readonly-value",$(this).prop("checked"))}function o(e){var t=e.data.ctx;e.data.ctrl=t.control,t.OnKey($(this),e,$(this).val())}function u(e){var t=$(this),n=t.val(),r=t.attr("readonly");typeof r!="undefined"&&r!==!1&&(t.prop("checked",t.data("readonly-value")!==undefined?t.data("readonly-value"):!t.prop("checked")),t.removeData("readonly-value")),e.data.ctx.Get("IsInQueryMode")?(typeof r!="undefined"&&r!==!1?(t.prop("indeterminate",n===""),t.prop("checked",n==="Y")):(t.prop("indeterminate",n==="N"),t.prop("checked",n===""),t.val(n==="N"?"":n===""?"Y":"N")),t.attr("aria-checked",t.val()===""?"mixed":t.val()==="Y"?"true":"false")):(t.val(t.prop("checked")?"Y":"N"),t.attr("aria-checked",t.val()==="Y"?"true":"false"),t.prop("indeterminate",!1)),t.data("webkit-mousedown")&&t.removeData("webkit-mousedown");var i=$(document.activeElement);((t.attr("id")||"")!==(i.attr("id")||"")||(t.attr("name")||"")!==(i.attr("name")||""))&&t.focus()}var e=SiebelJS.Dependency("SiebelApp.Constants"),t=SiebelJS.Dependency("SiebelApp.Utils");return SiebelJS.Extend(n,SiebelAppFacade.FieldPW),n.prototype.BindEvents=function(){var e=this.GetEl(),t=this.Helper("EventHelper");e&&t&&t.Manage(e,"down",{ctx:this},s).Manage(e,"blur",{ctx:this},i).Manage(e,"focus",{ctx:this},r).Manage(e,"click",{ctx:this},u).Manage(e,"keydown",{ctx:this},o)},n.prototype.SetState=function(t,n,r){t!==e.get("ENABLE")&&SiebelAppFacade.CheckBoxPW.superclass.SetState.apply(this,arguments)},n.prototype.SetValue=function(n,r){var i=this.GetEl(r);i&&(i.val(n),this.Get("IsInQueryMode")?(i.prop("indeterminate",n===""),i.attr("aria-checked",n===""?"mixed":n==="Y"?"true":"false"
)):(i.prop("checked")!==t.IsTrue(n)&&i.prop("checked",t.IsTrue(n)),i.prop("indeterminate",!1),i.attr("aria-checked",n==="Y"?"true":"false"))),this.CacheState(e.get("CTRLVALUE"),{stateValue:n,index:r})},n}(),SiebelAppFacade.CheckBoxPW})),typeof SiebelAppFacade.RadioPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.RadioPW"),define("siebel/radiopw",["siebel/FieldPW"],function(){return SiebelAppFacade.RadioPW=function(){function t(){SiebelAppFacade.RadioPW.superclass.constructor.apply(this,arguments)}function n(t){var n=t.data.ctx,r=$(this).is(":checked")?$(this).val():"";n.OnControlEvent(e.get("PHYEVENT_CONTROL_FOCUS"),n.control,r),t.stopPropagation()}function r(t){var n=t.data.ctx,r=$(this),i=n.GetEl(Number(n.Get("GetSelection"))),s=i.filter(":checked").length;if(n.IsInLeaveField(this))return;t.stopPropagation();if(r.data("webkit-mousedown")){r.removeData("webkit-mousedown");return}r=s?i.filter(":checked"):$(this),n.OnControlEvent(e.get("PHYEVENT_CONTROL_BLUR"),n.control,s?r.val():"")}function i(e){var t=e.data.ctx;e.stopPropagation();if(e.type!==jQuery.event.triggered){var n=$(this),r=$(document.activeElement);((n.attr("id")||"")!==(r.attr("id")||"")||(n.attr("name")||"")!==(r.attr("name")||""))&&n.focus()}t.ExecuteMethod("LeaveField",t.control,$(this).val(),!0)}function s(e){$(this).data("webkit-mousedown",!0),e.stopPropagation()}function o(e){var t=$(this),n=t.attr("readonly");e.stopPropagation(),typeof n!="undefined"&&n!==!1&&t.prop("checked",!t.prop("checked")),t.data("webkit-mousedown")&&t.removeData("webkit-mousedown");var r=$(document.activeElement);((t.attr("id")||"")!==(r.attr("id")||"")||(t.attr("name")||"")!==(r.attr("name")||""))&&t.focus()}var e=SiebelJS.Dependency("SiebelApp.Constants");return SiebelJS.Extend(t,SiebelAppFacade.FieldPW),t.prototype.GetEl=function(e,t){var n=SiebelAppFacade.RadioPW.superclass.GetEl.call(this,null,t);if(n&&!isNaN(parseInt(e,10))&&n.length){var r=this.control.GetRadioGroupPropSet(),i,s;if(!r.IsEmpty()){i=r.GetChildCount(),n.length<=e*i&&(e=0),this.SetNoOfEl(e+1),s=n.eq(e*i);for(var o=1;o<i;o++)s=s.add(n.eq(e*i+o));n=s}}return n},t.prototype.ShowUI=function(){var t=this.GetEl(),n=this.control.GetRadioGroupPropSet(),r=this.control.GetDisplayName(),i=$(t).attr("aria-labelledby"),s="",o=this.control.GetInputName(),u=this.Get("GridFormContent")?this.control.GetSeq():"0";if(SiebelApp.S_App.IsConfigMode()===!0)var a=this.PrepareConfigAttrInfo(el);if(!n.IsEmpty()&&t){var f=t.parent();t.remove();for(var l=0,c=n.GetChildCount();l<c;l++){var h=n.GetChild(l),p=h.GetProperty("DisplayName"),d=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:e.get("SWE_CTRL_RADIO"),attrs:'name="'+o+'" tabindex="'+u+'"'+(SiebelApp.S_App.IsConfigMode()===!0?a:"")});s=o+"_"+p;var v={"aria-labelledby":i+" "+s,value:h.GetProperty("FieldValue")};utils.IsTrue(SiebelApp.S_App.IsAutoOn())&&(v[e.get("SWE_PROP_QTP_OT")]=this.control.GetObjectType(),v[e.get("SWE_PROP_QTP_RN")]=this.control.GetRepstrName(),v[e.get("SWE_PROP_QTP_UN")]=p),d=$(d).attr(v)[0].outerHTML,d+='<span id="'+s+'" >'+p+"</span><br/>",f.append(d)}this.InjectQTPInfo(parent),f=null}},t.prototype.BindEvents=function(){var e=this.GetEl(),t=this.Helper("EventHelper");e&&t&&(t.Manage(e,"focus",{ctx:this},n).Manage(e,"down",{ctx:this},s).Manage(e,"blur",{ctx:this},r).Manage(e,"change",{ctx:this},i).Manage(e,"click",{ctx:this},o),SiebelAppFacade.RadioPW.superclass.BindEvents.call(this))},t.prototype.BindData=function(e){SiebelAppFacade.RadioPW.superclass.BindData.call(this),this.SetValue(e)},t.prototype.SetValue=function(t,n){n=n!=="undefined"||n!==null?n:Number(this.Get("GetSelection"));var r=this.GetEl(n),i=this.GetIconMap(t),s=this.control.GetScriptProperty("Visible"),o={};stateArgs={},stateArgs.index=n,r&&(t?o=r.filter(function(){return $(this).val()===t}).prop("checked",!0):o=r.prop("checked",!1),o.length>0&&(r=o),this.control.GetShowBase()&&!this.ExecuteMethod("CanUpdate",this.control.GetName())&&r.parent().children("#"+r.attr("name")+"_s").length>0&&(i?(r.nextAll("span").eq(0).remove(),utils.DecideVisibility(r.after(i),s),r.styleHide()):(r.nextAll("span").eq(0).remove(),utils.DecideVisibility(r,s)))),stateArgs.stateValue=s,this.CacheState(e.get("SHOW"),stateArgs),stateArgs.stateValue=t,this.CacheState(e.get("CTRLVALUE"),stateArgs)},t.prototype.SetState=function(t,n,r){var i=this.GetStateValue(t,r?r:0);if(i===undefined||i!==n){var s=this.GetEl(r),o=this.control.GetScriptProperty("Visible");n=n===undefined?!0:n;if(s&&s.length)switch(t){case e.get("EDITABLE"):n?s.removeAttr("readOnly").attr("aria-readonly",!1):s.attr({readOnly:"readOnly","aria-readonly":!0}),this.CacheState(t,{stateValue:n,index:r});break;case e.get("ENABLE"):s.attr("disabled",!n),this.CacheState(t,{stateValue:n,index:r,methodName:this.control.GetMethodName()});break;case e.get("SHOW"):n?utils.DecideVisibility(s,o):s.styleHide(),this.CacheState(t,{stateValue:n,index:r});break;case e.get("FOCUS"):s=s.filter(":checked").length?s.filter(":checked"):$(s[0]),n?s.focus():s.blur()}}},t.prototype.GetValue=function(e){return this.GetEl(e).filter(":checked").val()||""},t}(),SiebelAppFacade.RadioPW})),typeof SiebelAppFacade.DatePW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.DatePW"),define("siebel/datepw",["siebel/FieldPW"],function(){return SiebelAppFacade.DatePW=function(){function s(){SiebelAppFacade.DatePW.superclass.constructor.apply(this,arguments)}function o(e){var s=e.data.ctx,o=s.control.GetUIType(),f=null;if(s.Get("isControlPopupOpen"))return;var l=s.GetEl();l&&l.length>1&&e&&(f=l.next("span"+(s.control.GetUIType()===n?".siebui-icon-date":".siebui-icon-datetime")).index($(this)),l=l.eq(f>=0?f:0)),SiebelAppFacade.DecisionManager.PauseVKeyboard(l);if(!s.OnControlEvent(t.get("PHYEVENT_CONTROL_FOCUS"),s.control)){SiebelAppFacade.DecisionManager.ResumeVKeyboard(l);return}if(!s.ExecuteMethod("CanUpdate",s.control.GetName())){e.stopPropagation();return}l.attr("data",l.val()),s.SetProperty("isControlPopupOpen",!0);var c={changeMonth:!0,changeYear:!0
,showTime:!1,showTimepicker:!1,dateFormat:"yy-mm-dd",yearRange:"c-100:c+100",isRTL:SiebelApp.S_App.GetDirection()?!0:!1,onClose:function(e,t){u.call(s,$(this),e,t.isEscapeKey),SiebelAppFacade.DecisionManager.ResumeVKeyboard($(this))},firstDay:SiebelApp.S_App.LocaleObject.GetWeekStartDay()},o=s.control.GetUIType();if(o===r||o===i){var h=SiebelApp.S_App.LocaleObject.GetTimeFormat(),p=h.indexOf("p ")===-1&&h.indexOf(" p")===-1,d=(p?"HH":"hh")+":mm:ss"+(p?"":" TT");$.extend(c,{showTime:!0,showTimepicker:!0,timeFormat:d,separator:" "}),o===i&&$.extend(c,{timeZoneList:SiebelApp.S_App.LocaleObject.GetTimeZoneList(),timeZoneName:SiebelApp.S_App.LocaleObject.GetTimeZoneName()})}l.datetimepicker(c);var v=a.call(s,l.val(),!0);v&&v!==t.get("JS_INVALID_DATE")&&(v=v.replace(/-/g,"/"),l.datetimepicker("setDate",v)),l.datetimepicker("show"),l.datepicker("widget").find(".ui-datepicker-calendar").attr("tabindex","0").focus(),l=null,e.stopPropagation()}function u(t,n,s){var o=this.control,u=o.GetUIType(),f,l=SiebelApp.S_App.LocaleObject.GetDateFormat(),c=!1,h=!1,p;switch(u){case i:var d=$.datepicker.dpDiv.find(".ui_tpicker_timezone").find("select"),v=d.val();SiebelApp.S_App.LocaleObject.GetTimeZoneName()!==v&&(v="["+v+"]",n+=" "+v,p=n,p+=" "+v,c=!0);case r:h=!0,l+=" "+SiebelApp.S_App.LocaleObject.GetTimeFormat();default:f=o.GetDisplayFormat()?SiebelApp.S_App.LocaleObject.GetStringFromDateTime(n,l,o.GetDisplayFormat())||n:n,n=e.ToISOFormat(c?p:n,h,o.GetDisplayFormat(),c)||n}t.val(f===""?n:f),t.datetimepicker("destroy"),setTimeout(function(){t.focus()},10),this.SetProperty("isControlPopupOpen",!1);var m=t.attr("data");s===!0?t.val(m):(t.val(a.call(this,n,!1)),this.ExecuteMethod("LeaveField",o,n,!0)),t.removeAttr("data")}function a(e,r){var i=this.control,s=i.GetUIType()===n,o=t.get("ISO_DATE_FORMAT"),u=i.GetDisplayFormat()||SiebelApp.S_App.LocaleObject.GetDateFormat(),a;return s||(o=t.get("ISO8601_DATETIME_FORMAT"),u=i.GetDisplayFormat()||SiebelApp.S_App.LocaleObject.GetDateFormat()+" "+SiebelApp.S_App.LocaleObject.GetTimeFormat()),r?a=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(e,u,o,!0):a=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(e,o,u),a}function f(r){var i=r.data.ctx,s,o=i.control;s=$(this).val(),i.Get("IsInQueryMode")===!1&&(s=e.ToISOFormat(s,o.GetUIType()!==n,o.GetDisplayFormat())||s),i.OnControlEvent(t.get("PHYEVENT_CONTROL_FOCUS"),o,s)}function l(r){var i=r.data.ctx,s,o=i.control;s=$(this).val();if(i.IsInLeaveField(this))return;if(i.Get("isControlPopupOpen")==0)i.OnControlEvent(t.get("PHYEVENT_CONTROL_BLUR"),o,s);else{var u=o.GetUIType()===n,a=SiebelApp.S_App.LocaleObject.GetDateFormat(),f=t.get("ISO_DATE_FORMAT");u||(a+=" "+SiebelApp.S_App.LocaleObject.GetTimeFormat(),f=t.get("ISO8601_DATETIME_FORMAT")),s=e.ToISOFormat(s,o.GetUIType()!==n,o.GetDisplayFormat())||s;var l=SiebelApp.S_App.LocaleObject.GetStringFromDateTime(s,f,a);$(this).val(l===""?s:l)}}function c(e){var t=e.data.ctx;e.data.ctrl=t.control,t.OnKey($(this),e,$(this).val())}var e=SiebelJS.Dependency("SiebelApp.Utils"),t=SiebelJS.Dependency("SiebelApp.Constants"),n=t.get("SWE_CTRL_DATE_PICK"),r=t.get("SWE_CTRL_DATE_TIME_PICK"),i=t.get("SWE_CTRL_DATE_TZ_PICK");return SiebelJS.Extend(s,SiebelAppFacade.FieldPW),s.prototype.ShowUI=function(){var e=this.GetEl();if(e){SiebelAppFacade.HTMLTemplateManager.EnhanceMarkup({type:this.control.GetUIType(),el:e,id:this.control.GetInputName(),className:"siebui-align-"+this.control.GetJustification()});var t=this.Get("GridFormContent")?this.control.GetSeq():"0";e.attr({maxlength:this.control.GetMaxSize()||256,tabindex:t}),this.InjectQTPInfo(e)}},s.prototype.BindEvents=function(){var e=this.GetEl(),t=this.Helper("EventHelper"),r=this.control.GetUIType()===n?"siebui-icon-date":"siebui-icon-datetime";e&&t&&t.Manage(e,"focus",{ctx:this},f).Manage(e,"blur",{ctx:this},l).Manage(e,"keydown",{ctx:this},c).Manage(e.next("span."+r),"click",{ctx:this},o)},s.prototype.OpenPopup=function(){if(!this.Get("isControlPopupOpen")){var e=this.GetEl();if(e&&e.length>1){var t=e.index($(document.activeElement));e=t>=0?e.eq(t):$()}e.next(this.control.GetUIType()===n?".siebui-icon-date":".siebui-icon-datetime").click()}},s.prototype.HandleKey=function(e,n,r){n.which===t.get("SWE_F2_KEY")&&(e.next('span[id^="'+this.control.GetInputName()+'"]').click(),n.stopImmediatePropagation())},s}(),SiebelAppFacade.DatePW})),typeof SiebelAppFacade.DropDownPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.DropDownPW"),define("siebel/dropdownpw",["siebel/FieldPW"],function(){return SiebelAppFacade.DropDownPW=function(){function t(){SiebelAppFacade.DropDownPW.superclass.constructor.apply(this,arguments)}function n(){var t=this.control,n=null,r=t.GetHTMLAttr(),i=e.get("SWE_NATIVE_COMBO_ATTR"),s=r?r.toLowerCase().replace(/ /g,""):"";if(s.indexOf(i)>=0){n=s.substring(s.indexOf(i)+i.length,s.length),n=n.replace(/"/g,"");var o=0;for(o=1;o<=n.length;o++)if(isNaN(Number(n.substring(0,o))))break;n=n.substring(0,o-1)}return n}function r(t){var n=t.data.ctx;n.OnControlEvent(e.get("PHYEVENT_CONTROL_FOCUS"),n.control,$(this).val())}function i(t){var r=t.data.ctx,i=$(this);if(i.data("mouseClick"))return;if(r.IsInLeaveField(this))return;if($(document.activeElement).parents(".ui-autocomplete").length>0||i.data("ui-autocomplete")&&i.data("ui-autocomplete").menu.active)return;var s=c.call(r,i.val());$(this).data("filterValue",$(this).val()),r.OnControlEvent(e.get("PHYEVENT_CONTROL_BLUR"),r.control,s),$(this).removeData("filterValue");var o=n.call(r);o||i.autocomplete("option","source",[])}function s(e,t){var n=e.data.ctx;SiebelAppFacade.DecisionManager.PauseVKeyboard($(this));var r=t?t.item.value:$(this).val();e.keyCode===9&&!n.control.IsBoundedPick()?(r=$(this).val(),e.stopPropagation(),e.preventDefault()):$(this).data("pendingSelect",r),n.Get("IsInQueryMode")&&n.SetProperty("DDUserSelected",{ctrl:n.control,value:r})}function o(e){e.data.ctx.SetProperty("isControlPopupOpen",!0);var t=$(this),n=t.autocomplete("widget");if(n.length){setTimeout(function(
){var e=parseInt(n.css("top"),10);e<0&&n.css("top",0)},0);var r=(this.value||"").trim();if(r){var i=n.find(":contains('"+r+"')").filter(function(){return $(this).text()===r}).first();i.length&&i.text()===r&&t.data("ui-autocomplete")&&t.data("ui-autocomplete").menu.focus(null,i),i=null}}}function u(e){var t=e.data.ctx;t.Get("IsInQueryMode")&&t.SetProperty("DDUserSelected",{ctrl:t.control,value:e.target.value});var n=$(this).data("pendingSelect");t.SetProperty("CloseCtrlPopupInProgress",!0);if(n){$(this).removeData("pendingSelect"),$(this).data("filterValue",$(this).val());if(t.control.IsPostChanges()||$(this).data("resetOffset")){var r=t.ExecuteMethod("LeaveField",t.control,n,!0);$(this).removeData("filterValue"),$(this).data("resetOffset")&&t.ExecuteMethod("SetActiveControl",null);if(r===!1)return SiebelAppFacade.DecisionManager.ResumeVKeyboard($(this)),r}else SiebelAppFacade.DecisionManager.IsTouch()&&document.activeElement!==this&&this.focus();$(this).removeData("filterValue")}SiebelAppFacade.DecisionManager.ResumeVKeyboard($(this)),t.SetProperty("isControlPopupOpen",!1),t.SetProperty("CloseCtrlPopupInProgress",!1)}function a(t,n){var r=n?n.data.ctx||this:this;t.data("iscache","true"),r.OnControlEvent(e.get("PHYEVENT_INVOKE_COMBO"),r.control),t.removeData("iscache")}function f(e){var t=e.data.prevElem;$(t).data("mouseClick",!0)}function l(t,n){if(t&&t.data.prevElem){var r=t.data.prevElem;$(r).removeData("mouseClick")}var i=t?t.data.ctx||this:this,s=i.GetEl()||$();if(s.data("iscache")){s.autocomplete("option","source",n);return}var o,u=i.control.GetRadioGroupPropSet(),a;s&&s.length>1&&(t?(o=s.next("span.siebui-icon-dropdown").index($(this)),s=s.eq(o>=0?o:0),s.focus()):(o=s.index($(document.activeElement)),s=o>=0?s.eq(o):$()));if(i.control)if(!i.ExecuteMethod("CanUpdate",i.control.GetName())||s.is(":disabled"))return s.focus(),!1;if(!u.IsEmpty()&&i.control.IsStaticBounded()){SiebelAppFacade.DecisionManager.PauseVKeyboard(s),n=n||[];for(var f=0,l=u.GetChildCount();f<l;f++)a=u.GetChild(f),n[f]=a.GetProperty(e.get("SWE_DISPLAY_NAME_STR"))}if(n===undefined){s.autocomplete("option","source",[]),SiebelAppFacade.DecisionManager.PauseVKeyboard(s),i.OnControlEvent(e.get("PHYEVENT_INVOKE_COMBO"),i.control),SiebelAppFacade.DecisionManager.ResumeVKeyboard(s);return}if(s.length!==0){var c=null;if(s.length&&s.is(":hidden")){var h=s.siblings().find("div#"+s.attr("name")+"_IPEField");c=s.autocomplete("option","position"),h.length&&c&&(s.autocomplete("option","position",$.extend(c,{of:h})),i.ExecuteMethod("SetActiveControl",i.control),s.data("resetOffset",!0))}else s.data("resetOffset")&&(c=s.autocomplete("option","position"),s.autocomplete("option","position",$.extend(c,{of:s})),s.removeData("resetOffset"));s.autocomplete("option","source",n);var p=s.data("filterValue")||s.parent().data("filterValue")||"";utils.IsEmpty(p)&&s.autocomplete("option","autoFocus",!1),setTimeout(function(){var e=p||"";s.autocomplete("option","minLength",0).autocomplete("search",e),s.autocomplete("widget").not(":hidden").length===0&&(e="",s.autocomplete("search",e)),s.autocomplete("close"),s.autocomplete("search",e),s.autocomplete("option","autoFocus",!0).autocomplete("option","minLength",1);var t=t=$(s.autocomplete("widget")).children();if(utils.IsTrue(SiebelApp.S_App.IsAutoOn())){var n,r;n=i.control.GetLovType()||i.Get("GetName")+":"+i.control.GetName();if(n&&SiebelApp.S_App.TranslationTable)for(var o=0,u=t.length;o<u;o++)r=SiebelApp.S_App.TranslationTable.LookupLIC(n,$(t[o]).text()),$(t[o]).attr({"data-lovtype":n,"data-licval":r})}for(var o=0,u=t.length;o<u;o++)$(t[o]).attr("aria-label","  ");s.focus();var a=s.autocomplete("widget");a&&a.position(s.autocomplete("option").position||{}),i.control.IsStaticBounded()&&SiebelAppFacade.DecisionManager.ResumeVKeyboard(s),s=null},0),s.autocomplete("widget").attr("role","combobox").children().find("a").attr("role","option")}}function c(e){if(this.Get("IsInQueryMode")){var t=this.Get("DDUserSelected");t&&e&&e.charAt(0)!=='"'&&e.charAt(e.length-1)!=='"'&&t.ctrl===this.control&&t.value===e&&(e='"'+e+'"',this.SetProperty("DDUserSelected",undefined))}return e}var e=SiebelJS.Dependency("SiebelApp.Constants");return SiebelJS.Extend(t,SiebelAppFacade.FieldPW),t.prototype.ShowUI=function(){var e=this.GetEl(),t=n.call(this);if(e&&e.length){for(var r=0,i=e.length;r<i;r++){var s=(e.eq(r).prop("tagName")||"").toLowerCase();!t&&s==="select"&&e.eq(r).replaceWith((e.eq(r).empty()[0].outerHTML||"").replace(/select/ig,"input")),t&&s==="input"&&e.eq(r).replaceWith((e.eq(r).empty()[0].outerHTML||"").replace(/input/ig,"select"))}e=this.GetEl()}!t&&e&&SiebelAppFacade.HTMLTemplateManager.EnhanceMarkup({type:this.control.GetUIType(),el:e,id:this.control.GetInputName(),className:"siebui-align-"+this.control.GetJustification()});if(e){var o=this.Get("GridFormContent")?this.control.GetSeq():"0";this.Helper("EventHelper").Manage(e,"keydown",{ctx:this,ctrl:this.control},function(e){return e.data.ctx.OnKey($(this),e,$(this).val())}).Manage(e,"keypress",{ctx:this},function(e){$(this).prop("readonly")&&e.stopImmediatePropagation()}).Manage(e,"blur",{ctx:this},function(e){this===document.activeElement&&e.stopImmediatePropagation()}),e.attr({maxlength:this.control.GetMaxSize()||256,tabindex:o}),Number(this.control.GetWidth())!==0&&e.css("width",Number(this.control.GetWidth())),Number(this.control.GetHeight())!==0&&e.css("height",Number(this.control.GetHeight())),t?e.attr({role:"listbox",title:this.control.GetDisplayName()}):e.attr("role","combobox");var u=SiebelApp.S_App.GetDirection();if(!t){e.autocomplete({source:[],appendTo:e.parents("#_sweview").length?"#_sweview":null,autoFocus:!0,delay:0}).bind("autocompletefocus",function(e,t){$(this).attr("aria-activedescendant",$(this).autocomplete("widget").attr("aria-activedescendant")),SiebelAppFacade.DecisionManager.IsTouch()&&e.originalEvent&&e.originalEvent.originalEvent&&(e.originalEvent.originalEvent.type||"").indexOf("mouse")!==-1&&$(this).autocomplete("widget").menu
.select()});for(var a=0,i=e.length;a<i;a++)e.eq(a).autocomplete("option","position",{my:u?"right top":"left top",at:u?"right bottom":"left bottom",of:e.eq(a),collision:"flipfit flipfit"})}this.InjectQTPInfo(e)}},t.prototype.BindEvents=function(e){var t=this.GetEl(),a=this.control.GetHTMLAttr(),c=this.Helper("EventHelper");if(t&&c){c.Manage(t,"focus",{ctx:this},r).Manage(t,"blur",{ctx:this},i);var h=n.call(this);h?c.Manage(t,"change",{ctx:this},function(e){e.data.ctx.ExecuteMethod("LeaveField",e.data.ctx.control,$(this).val(),!0)}):c.Manage(t,"autocompleteselect",{ctx:this},s).Manage(t,"autocompleteopen",{ctx:this},o).Manage(t,"autocompleteclose",{ctx:this},u).Manage(t.next("span.siebui-icon-dropdown"),"mousedown",{ctx:this,prevElem:t},f).Manage(t.next("span.siebui-icon-dropdown"),"click",{ctx:this,prevElem:t},l)}},t.prototype.SetValue=function(e,t){var r=this.control.GetRadioGroupPropSet(),i=n.call(this),s=this.GetEl(t);if(i&&s&&s.length){s.html("");var o="";for(var u=0;u<r.GetChildCount();u++){var a=r.GetChild(u),f=a.GetProperty("DisplayName");f===e?o+='<option selected="selected" value = "'+f+'">'+f+" </option> <br>":o+='<option value = "'+f+'">'+f+" </option> <br>"}setTimeout(function(){s.attr("size",i)},0),s.html(o)}SiebelAppFacade.DropDownPW.superclass.SetValue.call(this,e,t)},t.prototype.HandleKey=function(e,t){var n=!1;switch(t.which){case $.ui.keyCode.UP:if(t.ctrlKey||t.altKey||t.shiftKey)e.autocomplete("option","source",[]);else if(!e.autocomplete("widget").is(":visible"))return e.next("span.siebui-icon-dropdown").click(),!0;break;case $.ui.keyCode.DOWN:t.ctrlKey||t.altKey||t.shiftKey?e.autocomplete("option","source",[]):e.autocomplete("widget").is(":visible")||(l.call(this,t),n=!0);break;case $.ui.keyCode.ENTER:e.autocomplete("widget").is(":visible")&&e.trigger("autocompleteselect");break;default:a.call(this,e,t)}return n},t.prototype.UpdatePickList=function(e){l.call(this,null,e)},t.prototype.OpenPopup=function(){var e=this.GetEl();if(e&&e.length>1){var t=e.index($(document.activeElement));e=t>=0?e.eq(t):$()}e.next(".siebui-icon-dropdown").click()},t}(),SiebelAppFacade.DropDownPW})),typeof SiebelAppFacade.FilePW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.FilePW"),define("siebel/filepw",["siebel/FieldPW"],function(){return SiebelAppFacade.FilePW=function(){function i(){SiebelAppFacade.FilePW.superclass.constructor.apply(this,arguments)}function s(){return this.control&&this.control.GetUIType()===t.get("SWE_PST_BUTTON_CTRL")&&this.control.GetMethodName()==="NewFileAttachment"}function o(e){var n=e.data.ctx?e.data.ctx:this,r=n.OnControlEvent(t.get("PHYEVENT_APPLET_FOCUS"));if(r===!1)return e.preventDefault(),e.stopPropagation(),!1}function u(e,n,r){if(n.files.length>0){var i=e.data.ctx;if(!i.Get("IsActive")&&!i.OnControlEvent(t.get("PHYEVENT_APPLET_FOCUS")))return!1;var s=$(this),o=i.ExecuteMethod("NewFileAttachment",null,r),u=t.get("SWE_PROP_SESSION_RANDOM_NUMBER")+"="+SiebelApp.S_App.GetSRN();SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:!0,timeOut:!1,message:""}),s.fileupload("option","remainingFilesToUpload",n.files.length),s.fileupload("option","formData",o),s.fileupload("option","url",SiebelApp.S_App.GetPageURL()+t.get("SWE_ARG_START")+u),s=null}}function a(e,n){var r=$(this),i=t.get("SWE_PROP_SESSION_RANDOM_NUMBER")+"="+SiebelApp.S_App.GetSRN();r.fileupload("option","importfiles",n.files),r.fileupload("option","url",SiebelApp.S_App.GetPageURL()+t.get("SWE_ARG_START")+i),r=null}function f(t,n){var r=$(this),i=null,s=0;r.data("blueimp-fileupload")&&(s=r.fileupload("option","remainingFilesToUpload"),r.fileupload("option","remainingFilesToUpload",--s)),n.dataType==="iframe "?i=$(n.result).find("body").html():i=n.result,e.IsEmpty(i)||SiebelApp.S_App.ProcessResponse(i).done(function(){SiebelApp.S_App.ProcessError()}),s<=0&&(r.val(""),SiebelApp.S_App.uiStatus.IsBusy()&&SiebelApp.S_App.uiStatus.Free())}function l(e,t){var n=$(this),r=null,i=e.data.ctx,s=CCFMiscUtil_CreatePropSet(),o=n.fileupload("option","remainingFilesToUpload");n.fileupload("option","remainingFilesToUpload",--o),t.dataType==="iframe "?r=$(t.result).find("body").html():r=t.result;for(var u in t.formData)t.formData.hasOwnProperty(u)&&s.SetProperty(u,t.formData[u]);i.ExecuteMethod("ForceProcessResponse",t.formData.SWEMethod,s,r),SiebelApp.S_App.uiStatus.IsBusy()&&o<=0&&SiebelApp.S_App.uiStatus.Free();return}function c(e,t){SiebelApp.S_App.uiStatus.IsBusy()&&SiebelApp.S_App.uiStatus.Free()}var e=SiebelJS.Dependency("SiebelApp.Utils"),t=SiebelJS.Dependency("SiebelApp.Constants"),n=t.get("SWE_CTRL_FILE"),r=null;return SiebelJS.Extend(i,SiebelAppFacade.FieldPW),i.prototype.ShowUI=function(){var e=this.GetEl();if(e){if(SiebelApp.S_App.IsConfigMode()===!0)var i=this.PrepareConfigAttrInfo(e);var o=this.Get("GridFormContent")?this.control.GetSeq():"0",u=this.control.GetPMPropSet(),a=u?u.GetProperty("UploadTriggerControl"):!1,f=$("#s_"+this.Get("GetFullId")+"_div"),l=null,c={},h=null,p=' tabindex="'+o+'"',d=null,v=s.call(this),m=this.ExecuteMethod("CanInvokeMethod",this.control.GetMethodName());c={type:"POST",replaceFileInput:!1,forceIframeTransport:!1,multipart:!0,url:SiebelApp.S_App.GetPageURL(),dropZone:f,formData:{},scope:this},l=a&&this.control.GetName()!==t.get("SWE_FILE_NAME_STR")?this.control.GetInputName():t.get("SWE_FILE_NAME_STR"),r=this.control.GetInputName();if(v){l=t.get("SWE_FILE_NAME_STR"),r+=t.get("SWE_FILE_NAME_STR");var g=this.Get("GetAppletLabel");g!==""&&(g+=":"),p+=' name="'+l+'" title="'+g+this.control.GetDisplayName()+'" aria-label="'+g+this.control.GetDisplayName()+'"',SiebelAppFacade.DecisionManager.IsTouch()||(p+=" multiple"),m||(p+=' disabled="disabled"')}else p+=' name="'+l+'" ';h=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({id:r,type:n,attrs:p+(SiebelApp.S_App.IsConfigMode()===!0?i:"")}),v?(e.addClass("siebui-label-btn").addClass(m?"appletButton":"appletButtonDis").html(this.control.GetDisplayName()+h),d&&e.prepend('<a role="button">'+d+"</a>"
),e=e.find("#"+r)):(e.replaceWith(h),e=this.GetEl()),c.fileInput=e,e.fileupload(c),this.InjectQTPInfo(e),e=f=null}},i.prototype.BindEvents=function(e){var t=this.control.GetPMPropSet(),n=t?t.GetProperty("UploadTriggerControl"):!1,i=this.GetEl(),s=this.Helper("EventHelper"),h;if(i){i=i.find("#"+r),i=i.length===0?i.end():i,s.Manage(i,"click",{ctx:this},o);if(n)i.bind("fileuploadadd",{ctx:this},a).bind("fileuploaddrop",{ctx:this},a).bind("fileuploadfail",{ctx:this},c).bind("fileuploaddone",{ctx:this},l),i.fileupload("option","autoUpload",!1);else{i.bind("fileuploadchange",{ctx:this},function(t,n){return u.call(this,t,n,e)}).bind("fileuploaddrop",{ctx:this},function(t,n){return u.call(this,t,n,e)});var p={};p.fail=c,p.done=f,i.fileupload(p)}h=i.parent(),i.bind("focus",function(){h.addClass("siebui-file-focus")}),i.bind("blur",function(){h.removeClass("siebui-file-focus")}),i.closest(".ui-dialog").length&&i.one("touchstart",function(){$(this).blur()})}i=null},i.prototype.SetState=function(e,n,r){if(s.call(this)&&e===t.get("ENABLE")){var i=this.GetStateValue(e,r?r:0);if(i===undefined||i!==n){var o=this.GetEl(r);o&&(o.removeClass("appletButton appletButtonDis").addClass(n?"appletButton":"appletButtonDis"),o=o.children("input.siebui-ctrl-file"),o.removeAttr("disabled"),n||o.attr("disabled","disabled")),this.CacheState(e,{stateValue:n,index:r,methodName:this.control.GetMethodName()})}}else SiebelAppFacade.FilePW.superclass.SetState.apply(this,arguments)},i.prototype.SubmitFile=function(e){var t=this.GetEl(),n=!1;if(t){var r=t.fileupload("option","importfiles");if(r){var i=this.ExecuteMethod("NewFileAttachment",e,!0),r=t.fileupload("option","importfiles");t.fileupload("option","formData",i);var s={files:r};SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:!0,timeOut:!1,message:""}),t.fileupload("send",s),n=!0}}return n},i}(),SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_PST_BUTTON_CTRL"),SiebelAppFacade.FilePW,function(e){return e&&e.GetMethodName()==="NewFileAttachment"}),SiebelAppFacade.FilePW})),typeof SiebelAppFacade.FlipSwitchPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.FlipSwitchPW"),define("siebel/flipswitchpw",["siebel/FieldPW"],function(){return SiebelAppFacade.FlipSwitchPW=function(){function i(){SiebelAppFacade.FlipSwitchPW.superclass.constructor.apply(this,arguments)}function s(e){$(this).siblings("select").triggerHandler(e)}function o(e){var t=e.data.ctx;document.activeElement!==this&&$(this).focus()}function u(t){var n=t.data.ctx;n.OnControlEvent(e.get("PHYEVENT_CONTROL_FOCUS"),n.control,$(this).data("select").val())}function a(t){var n=t.data.ctx;n.OnControlEvent(e.get("PHYEVENT_CONTROL_BLUR"),n.control,$(this).data("select").val())}function f(e,t){var n=e.data.ctx,r=$(this),i=r.data("controls");r.hasClass("disabled")?setTimeout(function(){i[t==="on"?"off":"on"]({silent:!0})},1):r.data("select").val(t==="on"?"Y":"N")}var e=SiebelJS.Dependency("SiebelApp.Constants"),t=SiebelJS.Dependency("SiebelApp.S_App.LocaleObject"),n=t.GetLocalString("IDS_CLIENT_YES"),r=t.GetLocalString("IDS_CLIENT_NO");return SiebelJS.Extend(i,SiebelAppFacade.FieldPW),i.prototype.ShowUI=function(e){var i=this.GetEl(),s="";if(i){var o=this.Get("SwitchOnOffLabels");o?(n=o[0],r=o[1]):(n=t.GetLocalString("IDS_CLIENT_YES"),r=t.GetLocalString("IDS_CLIENT_NO"));if(SiebelApp.S_App.IsConfigMode()===!0)var u=this.PrepareConfigAttrInfo(el);i.each(function(){var e=$(this),t=e.prop("checked");s=e.eq(0).clone().html("").wrap("<p/>").parent().html()||"",s=s.replace(/input/ig,"select").replace(/type="checkbox"/ig,""),e.replaceWith($(s).addClass("siebui-ctrl-flipswitch").removeAttr("style").append(SiebelApp.S_App.IsConfigMode()===!0?u:"").append("<option value='Y' "+(t?"selected='selected'":"")+">"+n+"</option>"+"<option value='N' "+(t?"":"selected='selected'")+">"+r+"</option>"))}),this.GetEl().switchify().data("switch").attr("tabindex",this.Get("GridFormContent")?this.control.GetSeq():"0"),this.InjectQTPInfo(this.GetEl())}},i.prototype.BindEvents=function(){var e=this.GetEl(),t=this.Helper("EventHelper");if(e&&e.length)for(var n=0,r=e.length;n<r;n++)e.eq(n).data("switch").bind("focus",{ctx:this},u).bind("switch:slide",{ctx:this},f).bind("blur",{ctx:this},a).bind("touchstart",{ctx:this},o).bind("click",{ctx:this},o).bind("keydown",{ctx:this},s);SiebelAppFacade.FlipSwitchPW.superclass.BindEvents.call(this)},i.prototype.SetValue=function(t,n){var r=this.GetEl(n);if(r&&r.length){var i=r.data("switch"),s=i.data("controls");t==="Y"?s.on({silent:!0}):s.off({silent:!0}),r.val(t)}this.CacheState(e.get("CTRLVALUE"),{stateValue:t,index:n})},i.prototype.SetState=function(t,n,r){var i=this.GetStateValue(t,r?r:0);if(i===undefined||i!==n){var s=this.GetEl(r);n=n===undefined?!0:n;if(s&&s.length){var o=s.data("switch");switch(t){case e.get("EDITABLE"):case e.get("ENABLE"):s.attr("disabled",!n),n?o.removeClass("disabled"):o.addClass("disabled");break;case e.get("SHOW"):n?o.show():o.hide();break;case e.get("FOCUS"):n?o.focus():o.blur()}}}},i}(),SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_CTRL_CHECKBOX"),SiebelAppFacade.FlipSwitchPW,function(e){return SiebelAppFacade.DecisionManager.IsTouch()||e.GetHTMLAttr()==="flipswitch"}),SiebelAppFacade.FlipSwitchPW})),typeof SiebelAppFacade.LinkPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.LinkPW"),define("siebel/linkpw",["siebel/FieldPW"],function(){return SiebelAppFacade.LinkPW=function(){function n(){SiebelAppFacade.LinkPW.superclass.constructor.apply(this,arguments)}function r(t){t.stopPropagation();if($(this).hasClass("siebui-link-icon-d")||$(this).hasClass("siebui-ctrl-link-disabled"))return;SiebelApp.S_App.uiStatus.Busy({});var n={};n.async=!0,n.cb=function(){var t=Array.prototype.slice.call(arguments),n=t?t[t.length-1]:"";n!==e.get("SWE_RPC_PROP_NEW_LAYOUT")&&n!==e.get("SWE_RPC_PROP_REFRESH_LAYOUT")&&n!==e.get("SWE_RPC_PROP_NEW_PAGE")&&SiebelApp.S_App.uiStatus.Free()};var r=t.data.ctx.control.GetMethodPropSet(),i=r.Clone();t.data.
ctx.OnControlEvent(e.get("PHYEVENT_INVOKE_CONTROL"),t.data.ctx.control.GetMethodName(),i,n)}var e=SiebelJS.Dependency("SiebelApp.Constants"),t=SiebelJS.Dependency("SiebelApp.Utils");return urlcontrol=e.get("SWE_CTRL_URL"),email=e.get("SWE_CTRL_MAILTO"),label=e.get("SWE_CTRL_LABEL"),link=e.get("SWE_CTRL_LINK"),SiebelJS.Extend(n,SiebelAppFacade.FieldPW),n.prototype.ShowUI=function(){var e=this.GetEl(),t,n,r="",i,s=this.control.GetUIType(),o;e&&(s===link?(n=this.ExecuteMethod("CanInvokeMethod",this.control.GetMethodName()),t=n?this.control.GetEnabledBmp():this.control.GetDisabledBmp()||this.control.GetEnabledBmp(),r=t?n?"siebui-link-icon-e ":"siebui-link-icon-d ":"",t=t?t:this.control.GetDisplayName(),t=t&&t.replace?t.replace(/\\\"/g,'"'):t):s===label&&(this.control.GetMethodName()?t=this.control.GetDisplayName():SiebelApp.S_App.IsRwd()&&(o=this.control.GetDisplayName()||this.control.GetValue())),SiebelAppFacade.HTMLTemplateManager.EnhanceMarkup({type:s,el:e,id:this.control.GetInputName(),className:r+"siebui-align-"+this.control.GetJustification(),value:t}),i=this.Get("GridFormContent")?this.control.GetSeq():"0",o&&e.text(o),s!==link&&s!==label&&e.attr({maxlength:this.control.GetMaxSize()||256,tabindex:i}),s===link?t?e.children("a").attr("tabindex",n?i:"-1"):e.children("a").attr("tabindex",this.control.GetSeq()):s===label&&this.control.GetMethodName()&&e.children("a").attr("tabindex",this.control.GetSeq()),this.InjectQTPInfo(e))},n.prototype.BindEvents=function(){var e=this.GetEl(),t=this.Helper("EventHelper");if(e&&t){switch(this.control.GetUIType()){case link:case label:this.control.GetMethodName()&&t.Manage(e,"click",{ctx:this},r)}SiebelAppFacade.LinkPW.superclass.BindEvents.call(this)}},n.prototype.SetState=function(t,n,r){var i=this.GetEl(r);n=n===undefined?!0:n;if(i&&i.length)if(t===e.get("ENABLE")){var s=this.control.GetEnabledBmp(),o=this.control.GetDisabledBmp()||s;if(s||o){var u=n?s:o;if(u){u=$(u);var a=u.find("img").eq(0),f=a.length&&(a.attr("alt")||a.attr("title")),l=n?this.control.GetSeq()||0:"-1";f?u.attr("title",f):!1,i.removeClass("siebui-link-icon-e siebui-link-icon-d").addClass(n?"siebui-link-icon-e":"siebui-link-icon-d").find("a").attr({tabindex:l,"data-seq":l}).html(u)}this.CacheState(t,{stateValue:n,index:r,methodName:this.control.GetMethodName()})}}else SiebelAppFacade.LinkPW.superclass.SetState.apply(this,arguments);return},n.prototype.SetValue=function(n,r){var i=this.ExecuteMethod("CanUpdate",this.control.GetName()),s="",o=t.IsTrue(this.control.IsEncode())?HtmlEncode(n):n,u=n,a=HtmlEncode(n),f=this.control.GetScriptProperty("Visible"),l=this.GetIconMap(n),c=this.GetEl(r),h,p=!0;if(c){switch(this.control.GetUIType()){case e.get("SWE_CTRL_URL"):typeof n=="string"&&o.indexOf("http://")===-1&&o.indexOf("https://")===-1&&(o=window.location.protocol+"//"+o,u=window.location.protocol+"//"+u),l&&(l="<a href='"+o+"' target='_blank' >"+l+"</a>");var d=this.control.GetWidth();s='<a class="siebui-ctrl-url-ro" id="'+this.control.GetInputName()+'_url_link"'+(d&&d!=="0"?' style="width: '+d+"px":"")+"\" href='"+u+"' target='_blank' >"+o+"</a>";break;case e.get("SWE_CTRL_MAILTO"):l&&(l='<a class="siebui-ctrl-mailto-ro" href="mailto:'+a+'">'+l+"</a>");var d=c.outerWidth();s='<a class="siebui-ctrl-mailto-ro" id="'+this.control.GetInputName()+'_mailto_link" href="mailto:'+a+'"'+(d&&d!=="0"?' style="width: '+d+"px":"")+'">'+a+"</a>";break;default:}h=this.control.GetInputName()+"_span",l?(c.nextAll('[id^="'+this.control.GetInputName()+'"]').not(".siebui-icon-mailto").remove(),c.nextAll("#"+h).length===0&&c.nextAll('[id^="'+this.control.GetInputName()+'"]').addBack().last().after('<span id="'+h+'" ><span>'),h=c.nextAll("#"+h),t.DecideVisibility(h.html(l),f),c.val(n).styleHide(),c.nextAll(".siebui-icon-mailto").addClass("siebui-invisible"),p=f):(!i&&!t.IsEmpty(n)&&s?(c.nextAll('[id^="'+this.control.GetInputName()+'"]').not(".siebui-icon-mailto").remove(),c.after(s),c.val(n).styleHide()):(c.nextAll('[id^="'+this.control.GetInputName()+'"]').not(".siebui-icon-mailto").remove(),t.DecideVisibility(c.val(n),f),p=f),(this.control.GetUIType()===link||this.control.GetUIType()===label)&&this.control.GetMethodName()&&c.removeClass("siebui-ctrl-link-disabled siebui-ctrl-link").addClass(this.ExecuteMethod("CanInvokeMethod",this.control.GetMethodName())?"siebui-ctrl-link":"siebui-ctrl-link-disabled"),c.nextAll(".siebui-icon-mailto").removeClass("siebui-invisible"),t.DecideVisibility(c.nextAll(".siebui-icon-mailto"),f),h=c.nextAll("#"+h),h.styleHide()),this.control.GetUIType()===e.get("SWE_CTRL_MAILTO")&&c.nextAll(".siebui-icon-mailto").eq("0").attr({href:c.val()?"mailto:"+c.val():"mailto:",id:this.control.GetInputName()+"_icon"})}this.CacheState(e.get("SHOW"),{stateValue:p,index:r}),this.CacheState(e.get("CTRLVALUE"),{stateValue:n,index:r})},n}(),SiebelAppFacade.LinkPW})),typeof SiebelAppFacade.PlainTextPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.PlainTextPW"),define("siebel/plaintxtpw",["siebel/FieldPW"],function(){return SiebelAppFacade.PlainTextPW=function(){function n(){SiebelAppFacade.PlainTextPW.superclass.constructor.apply(this,arguments)}var e=SiebelJS.Dependency("SiebelApp.Constants"),t=SiebelJS.Dependency("SiebelApp.Utils");return SiebelJS.Extend(n,SiebelAppFacade.FieldPW),n.prototype.ShowUI=function(){var e=this.GetEl(),n,r,i;if(e){n=this.control.GetHTMLAttr().split(";");var s=n.length;for(var o=0;o<s;o++)n[o]&&(r=n[o].replace(/"/g,""),i=r.split("="),!t.IsEmpty(i)&&i.length===2&&(name=i[0],value=i[1],attrvalue=e.attr(name),t.IsEmpty(attrvalue)?e.attr(name,value):e.attr(name,attrvalue+" "+value)));SiebelAppFacade.HTMLTemplateManager.EnhanceMarkup({type:this.control.GetUIType(),el:e,id:this.control.GetInputName(),className:"siebui-input-align-"+this.control.GetJustification()}),t.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())&&e.attr({tabindex:this.Get("GridFormContent")?this.control.GetSeq():"0",role:"presentation"}),this.InjectQTPInfo(e)}},n.prototype.SetValue=function(n,r){var i=
this.GetEl(r),s=this.GetIconMap(n),o=t.IsTrue(this.control.IsEncode())?HtmlEncode(n):n,u=this.control.GetScriptProperty("Visible"),a;i&&(t.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())&&(i=i.children("#"+this.control.GetInputName()+"_Label")),a=this.control.GetInputName()+"_span",s?(i.nextAll().remove(),i.nextAll("#"+a).length===0&&i.nextAll('[id^="'+this.control.GetInputName()+'"]').addBack().last().after('<span id="'+a+'" ><span>'),a=i.nextAll("#"+a),t.DecideVisibility(a.html(s),u),i.html(o).styleHide()):(i.nextAll().remove(),t.DecideVisibility(i.html(o),u),a=i.nextAll("#"+a),a.styleHide())),this.CacheState(e.get("SHOW"),{stateValue:u,index:r}),this.CacheState(e.get("CTRLVALUE"),{stateValue:n,index:r}),this.CacheState("CanNavigate",{stateValue:!1,index:r})},n}(),SiebelAppFacade.PlainTextPW})),typeof SiebelAppFacade.ImgCtrlPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.ImgCtrlPW"),define("siebel/imgctrlpw",["siebel/FieldPW"],function(){return SiebelAppFacade.ImgCtrlPW=function(){function t(){SiebelAppFacade.ImgCtrlPW.superclass.constructor.apply(this,arguments)}var e=SiebelJS.Dependency("SiebelApp.Constants");return SiebelJS.Extend(t,SiebelAppFacade.FieldPW),t.prototype.ShowUI=function(){var e=this.GetEl();e&&(e.addClass("siebui-align-"+this.control.GetJustification()),this.InjectQTPInfo(e))},t.prototype.BindEvents=function(){},t.prototype.SetValue=function(t,n){var r=this.GetEl(n),i="",s=this.Get("GridFormContent")?this.control.GetSeq():"0";if(r){var o=t.toLowerCase();o.indexOf("<img")>=0?i=t:/siebui/.test(o)?i='<i class="'+t+'"></i>':i='<img src="'+t+'" alt="'+this.control.GetDisplayName()+'" title="'+this.control.GetDisplayName()+'"></img>';var u="";this.ExecuteMethod("CanNavigate",this.control.GetName())&&(u="id='"+this.control.GetInputName()+"_mb'   class='siebui-ctrl-drilldown'  name='"+this.control.GetName()+"' "),utils.IsEmpty(t)?r.html(""):r.html("<a "+u+' role="img" tabindex="0" data-seq="'+s+'">'+i+"<a>")}this.CacheState(e.get("CTRLVALUE"),{stateValue:t,index:n})},t}(),SiebelAppFacade.ImgCtrlPW})),typeof SiebelAppFacade.RTCEditorPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.RTCEditorPW"),define("siebel/rtceditorpw",["siebel/FieldPW"],function(){return SiebelAppFacade.RTCEditorPW=function(){function t(e){SiebelAppFacade.RTCEditorPW.superclass.constructor.call(this,e)}function n(e,t){var n=$(t.container.$).find(".siebui-rtc-count"),r=t.getSnapshot().length,i;n.length&&(i=r+"/"+e.GetMaxSize(),n.html(i),r>e.GetMaxSize()?n.addClass("siebui-rtc-errormsg"):n.hasClass("siebui-rtc-errormsg")&&n.removeClass("siebui-rtc-errormsg"))}function r(t,n){if(this.IsInLeaveField(this.GetEl()))return;this.Get("IsInQueryMode")&&t.GetCaseSensitive()&&n===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK")&&(n=""),this.OnControlEvent(e.get("PHYEVENT_CONTROL_BLUR"),t,n);if(this.Get("IsInQueryMode")&&t.GetCaseSensitive()&&n===""){n=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK");var r=this.GetEl();r.ckeditor(function(e){var t=this;setTimeout(function(e){t.setData(e)},2)})}}function i(t,n){if(this.Get("IsInQueryMode")&&t.GetCaseSensitive()&&n===SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK")){n="";var r=this.GetEl();r.ckeditor(function(e){var t=this;setTimeout(function(e){t.setData(e)},2)})}this.OnControlEvent(e.get("PHYEVENT_CONTROL_FOCUS"),t,n)}var e=SiebelJS.Dependency("SiebelApp.Constants");return SiebelJS.Extend(t,SiebelAppFacade.FieldPW),t.prototype.Init=function(){CKEDITOR.focusManager._.blurDelay=0;var e=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_RTC_GREETING_TEMPLATE"),t=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_RTC_BODY_TEMPLATE"),n=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_RTC_CLOSING_TEMPLATE");CKEDITOR.addCss("div.siebui-emr-tmpl {border: 1px dotted white;}"),CKEDITOR.addCss("div.siebui-emr-tmpl:hover{border: 1px dotted #1474bf;position: relative;}"),CKEDITOR.addCss("div.siebui-emr-tmpl:before{position:absolute; top:0; right:0; padding:1px 3px; font-size:12px; color:white; background:#1474bf;}"),CKEDITOR.addCss('div.siebui-emr-greeting:hover:before {content: "'+e+'";}'),CKEDITOR.addCss('div.siebui-emr-body:hover:before {content: "'+t+'";}'),CKEDITOR.addCss('div.siebui-emr-closing:hover:before {content: "'+n+'";}'),CKEDITOR.addCss("body {word-break: break-all;}")},t.prototype.ShowUI=function(){var e=this.GetEl();if(e){e.ckeditor(function(){},{skin:"moono",width:Number(this.control.GetWidth()),height:Number(this.control.GetHeight()),startupFocus:!1,resize_enabled:!0,contentsLangDirection:SiebelApp.S_App.GetDirection(),resize_maxHeight:this.control.GetHeight(),resize_maxWidth:this.control.GetWidth(),autoParagraph:!1,ignoreEmptyParagraph:!0,disableNativeSpellChecker:!1,pasteFromWordRemoveFontStyles:!1,pasteFromWordRemoveStyles:!1,allowedContent:!0,extraAllowedContent:"div(siebui-emr-greeting,siebui-emr-body,siebui-emr-closing,siebui-emr-tmpl)"});var t=this.Get("GridFormContent")?this.control.GetSeq():"0";e.attr("tabindex",t),this.InjectQTPInfo(e)}},t.prototype.BindEvents=function(){var e=this.GetEl();if(e){var t=e.ckeditorGet();t.config.protectedSource.push(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_CSQ_WATERMARK"));var s=this;t.on("blur",function(e){r.call(s,s.control,this.getData())}),t.on("focus",function(e){var t=this;setTimeout(function(){e.editor.focusManager.hasFocus&&i.call(s,s.control,t.getData())},100)}),t.on("instanceReady",function(e){var r=CKEDITOR.dtd;for(var i in CKEDITOR.tools.extend({},r.$nonBodyContent,r.$block,r.$listItem,r.$tableContent))this.dataProcessor.writer.setRules(i,{indent:!1,breakBeforeOpen:!1,breakAfterOpen:!1,breakBeforeClose:!1,breakAfterClose:!1});s.control.GetMaxSize()&&($(e.editor.container.$).find(".cke_bottom").prepend('<div class="siebui-rtc-count"></div>'),e.editor.on("contentDom",function(){s.control.GetApplet()&&s.control.GetApplet().IsInQueryMode()?$(this.container.$).find(".siebui-rtc-count").hide():$(this.container.$).find(".siebui-rtc-count")
.show();var t=e.editor.editable();t.attachListener(t,"keyup",function(){var t=$(e.editor.document.$).find("div.siebui-emr-tmpl");t.each(function(e){$(this).text().length==0&&$(this).remove()}),n.call(s,s.control,e.editor)})}),t.on("afterCommandExec",function(e){n.call(s,s.control,this)}),t.on("saveSnapshot",function(e){n.call(s,s.control,this)}),t.on("updateData",function(e){var t=$(this.document.$).find("div.siebui-emr-tmpl"),r=this.readOnly;r&&t.removeClass(),n.call(s,s.control,this)}))})}},t.prototype.SetState=function(t,n){var r=this.GetEl();n=n===undefined?!0:n,r&&(t===e.get("EDITABLE")?CKEDITOR.instances[this.control.GetInputName()]&&(CKEDITOR.instances[this.control.GetInputName()].instanceReady===!0?CKEDITOR.instances[this.control.GetInputName()].setReadOnly(!n):CKEDITOR.instances[this.control.GetInputName()].on("instanceReady",function(e){var t=e.editor;t.setReadOnly(!n)})):SiebelAppFacade.RTCEditorPW.superclass.SetState.apply(this,arguments))},t.prototype.SetValue=function(e,n){var r=this.GetEl(n);r&&(r.data("pendingAction")?r.data("nextAction",[this,e,n]):r.data("pendingAction","updateData").ckeditor(function(){var n=e,i=$(this.element.$),s=this;if(this.getData()!==n)s.setData(n,function(){this.fire("updateData");var e=i.data("pendingAction");i.removeData("pendingAction");if(e==="destroy")r.ckeditor.destroy(!0),i.removeData("nextAction");else{var n=i.data("nextAction");n&&(i.removeData("nextAction"),t.prototype.SetValue.call(n[0],n[1],n[2]))}});else{var o=i.data("pendingAction");i.removeData("pendingAction");if(o==="destroy")r.ckeditor.destroy(!0),i.removeData("nextAction");else{var u=i.data("nextAction");u&&(i.removeData("nextAction"),t.prototype.SetValue.call(u[0],u[1],u[2]))}}}))},t}(),SiebelAppFacade.RTCEditorPW})),typeof SiebelAppFacade.RatingPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.RatingPW"),define("siebel/ratingpw",["siebel/FieldPW","3rdParty/jquery.raty.min.js"],function(){return SiebelAppFacade.RatingPW=function(){function t(){SiebelAppFacade.RatingPW.superclass.constructor.apply(this,arguments)}function n(t){var n=$(this).attr("title"),r=t.data.ctx;r.OnControlEvent(e.get("PHYEVENT_CONTROL_BLUR"),r.control,n)}function r(t){var n=t.data.ctx,r=$(this).attr("title");n.OnControlEvent(e.get("PHYEVENT_CONTROL_FOCUS"),n.control,r)}function i(t){var n=t.data.ctx,r=$(this).attr("title");n.OnControlEvent(e.get("PHYEVENT_CONTROL_BLUR"),n.control,r)}var e=SiebelJS.Dependency("SiebelApp.Constants");return SiebelJS.Extend(t,SiebelAppFacade.FieldPW),t.prototype.ShowUI=function(){var t,n=this.control.GetFieldName();if(!this.Get(n)){var r=this.Get("GetActiveControl");this.OnControlEvent(e.get("PHYEVENT_INVOKE_COMBO"),this.control),this.ExecuteMethod("SetActiveControl",r)}if(this.GetEl()){var i=this.Get(n);if(i){var s=i.length;for(var o=0,t=this.GetEl().length;o<t;o++)this.GetEl().eq(o).next("div.siebui-ctrl-rating").length===0&&this.GetEl().eq(o).after("<div class='siebui-ctrl-rating' tabindex=\"-1\"></div>").addClass("forcehide").next("div.siebui-ctrl-rating").raty({path:"images",hints:i,number:i.length})}}this.GetEl()&&this.InjectQTPInfo(this.GetEl())},t.prototype.BindEvents=function(e){var t=this.GetEl(),s=this.Helper("EventHelper");if(t)var o=t.nextAll("div.siebui-ctrl-rating");t&&s&&s.Manage(o,"focus",{ctx:this},r,"img ").Manage(o,"blur",{ctx:this},i,"img ").Manage(o,"click",{ctx:this},n,"img ")},t.prototype.UpdatePickList=function(e){var t,n=this.control.GetFieldName();this.SetProperty(n,e);if(this.GetEl()){var r=this.Get(n);if(r){var i=r.length;for(var s=0,t=this.GetEl().length;s<t;s++)this.GetEl().eq(s).next("div.siebui-ctrl-rating").length===0&&this.GetEl().eq(s).after("<div class='siebui-ctrl-rating' tabindex=\"-1\"></div>").addClass("forcehide").next("div.siebui-ctrl-rating").raty({path:"images",hints:r,number:r.length})}}},t.prototype.SetValue=function(e,t){var n=this.control.GetFieldName(),r=this.Get(n),i=$(".siebui-ctrl-rating img").length,s=SiebelApp.S_App.IsAutoOn();if(r){var o=r.length,u=r.indexOf(e)+1,a=this.GetEl(t).next("div.siebui-ctrl-rating");a.raty({path:"images",number:o,hints:r,score:u})}if(s&&i>0){$(".siebui-ctrl-rating img").attr("rn",""),$(".siebui-ctrl-rating img").attr("ot",""),$(".siebui-ctrl-rating img").attr("un","");for(var f=0;f<i;f++){var l=$(".siebui-ctrl-rating").eq(f).children(0).length;for(var c=0;c<l-1;c++)$(".siebui-ctrl-rating").eq(f).children(0).eq(c)[0].attributes.rn.value=$(".siebui-ctrl-rating").eq(f).children(0).eq(c)[0].title,$(".siebui-ctrl-rating").eq(f).children(0).eq(c)[0].attributes.ot.value="Image",$(".siebui-ctrl-rating").eq(f).children(0).eq(c)[0].attributes.un.value=$(".siebui-ctrl-rating").eq(f).children(0).eq(c)[0].title}}},t}(),SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_CTRL_COMBOBOX"),SiebelAppFacade.RatingPW,function(e){return e&&e.GetUIType()==="JComboBox"&&e.GetHTMLAttr()==="Rating"}),SiebelAppFacade.RatingPW}));if(typeof SiebelAppFacade.SignPW=="undefined"){SiebelJS.Namespace("SiebelAppFacade.SignPW");var ink=SiebelJS.Dependency("SiebelApp.Constants").get("SWE_CTRL_INKDATA");define("siebel/signpw",["siebel/FieldPW","3rdParty/jquery.signaturepad.min.js"],function(){return SiebelAppFacade.SignPW=function(){function n(){SiebelAppFacade.SignPW.superclass.constructor.apply(this,arguments)}function r(e){var n=e.data.ctx;n.ExecuteMethod("SetActiveControl",n.control),$("#sign_"+n.control.GetInputName()).signaturePad().getSignatureString()!=="[]"?n.OnControlEvent(t.get("PHYEVENT_CONTROL_BLUR"),n.control,$("#sign_"+n.control.GetInputName()).signaturePad().getSignatureString()):n.OnControlEvent(t.get("PHYEVENT_CONTROL_BLUR"),n.control,$("#"+n.control.GetInputName()).val())}var e=SiebelJS.Dependency("SiebelApp.Utils"),t=SiebelJS.Dependency("SiebelApp.Constants");return SiebelJS.Extend(n,SiebelAppFacade.FieldPW),n.prototype.ShowUI=function(){var t=this.control.GetInputName(),n=$("[name="+t+"]"),r=n.data("value"),i=n.parent();if(n&&SiebelApp.S_App.IsConfigMode()===!0)var s=this.PrepareConfigAttrInfo(el);n.remove
();var o="<div id =sign_"+t+' name ="'+t+'" class = "siebui-ctrl-sigpad"'+(SiebelApp.S_App.IsConfigMode()===!0?s:"")+"><canvas id = sign_canvas_"+t+' class="siebui-ctrl-pad" width="632" height="144"></canvas><p id=siebui-ctrl'+t+'-clearButton style="display:none;"></p><input id ='+t+"></input></div>";i.append(o),$("#"+t).addClass("forcehide");var u=$("#sign_"+t);if(this.ExecuteMethod("CanUpdate",this.control.GetName()))u.signaturePad({output:$("#"+t),clear:"#siebui-ctrl"+t+"-clearButton",lineTop:100,drawOnly:!0});else try{r&&e.IsEmpty(r)&&(r=this.ExecuteMethod("GetFieldValue",this.control)),$.type(r)==="array"||r===""||r===undefined||r.match("Cancelled*")||!r.match("base64*")?u.signaturePad({displayOnly:!0,lineTop:100,drawOnly:!0}).regenerate(r):(u.find("canvas").remove(),u.append('<img style="float:left" src= "data:image/jpg;'+r+'">'))}catch(a){a.name==="SyntaxError"?r===""||r.match("Cancelled*")?u.signaturePad({displayOnly:!0,lineTop:100,drawOnly:!0}).regenerate("[]"):u.empty().append("<span>"+SiebelApp.S_App.LocaleObject.GetLocalString("IDS_WRONG_FORMAT")+"</span>"):SiebelJS.Log(a)}this.InjectQTPInfo($("[name='"+t+"']"),this.control),n=i=null},n.prototype.GetValue=function(e){return this.GetEl(e).signaturePad().getSignatureString()||""},n.prototype.SetValue=function(t,n){n=n||0;var r=this.GetEl(n),i=this.control.GetInputName(),s=this.control.GetApplet().GetBusComp();try{if(t===""){t=this.ExecuteMethod("GetFieldValue",this.control);var o=this.control.GetFieldName();t===""&&!e.IsEmpty(o)&&(r.signaturePad().clearCanvas(),s&&(s.IsInsertPending()||s.IsInQueryState())&&r.signaturePad({output:$("#"+i),clear:"#siebui-ctrl"+i+"-clearButton",lineTop:100,drawOnly:!0}))}else this.ExecuteMethod("CanUpdate",this.control.GetName())?$.type(t)==="array"||t===""||t==="undefined"||t.match("Cancelled*")||!t.match("base64*")?r.signaturePad({displayOnly:!1,lineTop:100,drawOnly:!0}).regenerate(t):(r.find("canvas").remove(),$(".siebui-migrated-sign",r).remove(),r.append('<img style="float:left" class="siebui-migrated-sign" src= "data:image/jpg;'+t+'">')):$.type(t)==="array"||t===""||t==="undefined"||t.match("Cancelled*")||!t.match("base64*")?r.signaturePad({displayOnly:!0,lineTop:100,drawOnly:!0}).regenerate(t):(r.find("canvas").remove(),$(".siebui-migrated-sign",r).remove(),r.append('<img style="float:left" class="siebui-migrated-sign" src= "data:image/jpg;'+t+'">'))}catch(u){u.name==="SyntaxError"?t===""||t.match("Cancelled*")?r.signaturePad({displayOnly:!0,lineTop:100,drawOnly:!0}).regenerate("[]"):r.empty().append("<span>"+SiebelApp.S_App.LocaleObject.GetLocalString("IDS_WRONG_FORMAT")+"</span>"):SiebelJS.Log(u)}},n.prototype.BindEvents=function(e){var t=this.GetEl(),n=this.Helper("EventHelper"),i=t.find("canvas");t&&n&&n.Manage(i,"mouseup touchend",{ctx:this},r)},n}(),SiebelApp.S_App.PluginBuilder.AttachPW(ink,SiebelAppFacade.SignPW,function(e){return e&&e.GetUIType()===ink}),SiebelAppFacade.SignPW})}typeof SiebelAppFacade.ChartBuilderPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.ChartBuilderPW"),define("siebel/ChartBuilderPW",["siebel/FieldPW","3rdParty/jsplot/excanvas.min.js","3rdParty/jsplot/jquery.jqplot.min.js","3rdParty/jsplot/plugins/jqplot.pieRenderer.min.js","3rdParty/jsplot/plugins/jqplot.barRenderer.min.js","3rdParty/jsplot/plugins/jqplot.categoryAxisRenderer.min.js","3rdParty/jsplot/plugins/jqplot.canvasAxisLabelRenderer.min.js","3rdParty/jsplot/plugins/jqplot.canvasTextRenderer.min.js","3rdParty/jsplot/plugins/jqplot.canvasAxisTickRenderer.min.js","3rdParty/jsplot/plugins/jqplot.canvasOverlay.js"],function(){return $.jqplot.postInitHooks=[],$.jqplot.postDrawHooks=[],$.jqplot.eventListenerHooks=[],SiebelAppFacade.ChartBuilderPW=function(){function e(){SiebelAppFacade.ChartBuilderPW.superclass.constructor.apply(this,arguments)}function r(){var e=this.Get("Type");this.GetEl().parent().hasClass("siebui-charts-container")||this.GetEl().parent().addClass("siebui-charts-container"),this.GetEl().hasClass("siebui-charts")||this.GetEl().addClass("siebui-charts"),!e==0&&e.search("Bar")!=-1?(this.GetEl().unbind(),l.call(this)):!e==0&&e.search("2dPie")!=-1?(this.GetEl().unbind(),u.call(this)):e.search("2dLine")!=-1?(this.GetEl().unbind(),f.call(this)):e.search("2dScatter")!=-1?(this.GetEl().unbind(),a.call(this)):e.search("2dSpline")!=-1?(this.GetEl().unbind(),f.call(this)):e.search("Combo")!=-1&&(this.GetEl().unbind(),s.call(this));for(var t=0;t<this.GetEl().parents("table").length;t++)if($(this.GetEl().parents("table")[t]).find(".siebui-funnel-chart").length===1){$($(this.GetEl().parents("table")[t]).find(".siebui-funnel-chart")[0]).hide();break}}function s(){var e=this.GetEl();e.html("");var n=e.attr("id"),r=!this.Get("InvertXZ?")||this.Get("InvertXZ?")==="0"?!1:!0,i=this.Get("Width"),s=this.Get("Height"),o="height:"+s+"px;width:"+i+"px;";e.attr("style",o);var u=$.parseJSON(this.Get("XAxisData")),a=$.parseJSON(this.Get("YAxisData")),f=this.Get("DefaultChartFont"),l=!this.Get("Font")||this.Get("Font")===""?f:this.Get("Font"),c=!this.Get("FontSize")||this.Get("FontSize")===""?"15pt":this.Get("FontSize")+"pt",h=!this.Get("TitleColor")||this.Get("TitleColor")===""?B.call(this,"0 0 0"):B.call(this,this.Get("TitleColor")),p=!this.Get("FontStyle")||this.Get("FontStyle")===""||this.Get("FontStyle")==="BoldItalic"||this.Get("FontStyle")==="Bold"?"bold":"initial",d=!this.Get("FontStyle")==0&&this.Get("FontStyle")==="BoldItalic"||this.Get("FontStyle")==="Italic"?"italic":"initial",g=!this.Get("FontEffect")||this.Get("FontEffect")===""?"":this.Get("FontEffect"),y=this.Get("Title"),b=this.Get("Type"),w=r?!this.Get("ZAxisShowLegend?")||this.Get("ZAxisShowLegend?")==="1":!this.Get("XAxisShowLegend?")||this.Get("XAxisShowLegend?")==="1",E=this.Get("XAxisSort"),S=this.Get("XAxisSortField"),C=this.Get("XAxisTitle"),k=B.call(this,this.Get("XAxisTitleColor")),L=!this.Get("XAxisTitleFont")||this.Get("XAxisTitleFont")===""?l:this.Get("XAxisTitleFont"),A=!this.Get("XAxisTitleSize")||this.Get("XAxisTitleSize")===""?c
:this.Get("XAxisTitleSize")+"pt",P=!this.Get("XAxisTitleStyle")==0&&this.Get("XAxisTitleStyle")==="BoldItalic"||this.Get("XAxisTitleStyle")==="Italic"?"italic":"initial",j=!this.Get("XAxisTitleStyle")||this.Get("XAxisTitleStyle")===""||this.Get("XAxisTitleStyle")==="BoldItalic"||this.Get("XAxisTitleStyle")==="Bold"?"bold":"initial",F=!this.Get("XAxisTitleEffect")||this.Get("XAxisTitleEffect")===""?"":this.Get("XAxisTitleEffect"),I=this.Get("XAxisVerticalText?")==="1"?90:0,q=!this.Get("XAxisLabelFont")||this.Get("XAxisLabelFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("XAxisLabelFont"),R=!this.Get("XAxisLabelSize")||this.Get("XAxisLabelSize")===""?"10pt":this.Get("XAxisLabelSize")+"pt",U=!this.Get("XAxisLabelColor")||this.Get("XAxisLabelColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("XAxisLabelColor")),z=!this.Get("XAxisLabelStyle")==0&&this.Get("XAxisLabelStyle")==="BoldItalic"||this.Get("XAxisLabelStyle")==="Bold"?"bold":"initial",W=!this.Get("XAxisLabelStyle")==0&&this.Get("XAxisLabelStyle")==="BoldItalic"||this.Get("XAxisLabelStyle")==="Italic"?"italic":"initial",X=!this.Get("XAxisLabelEffect")||this.Get("XAxisLabelEffect")===""?"":this.Get("XAxisLabelEffect"),V=this.Get("YAxisGridColor"),J=this.Get("YAxisTitle"),K=!this.Get("YAxisTitleFont")||this.Get("YAxisTitleFont")===""?l:this.Get("YAxisTitleFont"),Q=!this.Get("YAxisTitleSize")||this.Get("YAxisTitleSize")===""?c:this.Get("YAxisTitleSize")+"pt",G=B.call(this,this.Get("YAxisTitleColor")),Y=!this.Get("YAxisTitleStyle")||this.Get("YAxisTitleStyle")===""||this.Get("YAxisTitleStyle")==="BoldItalic"||this.Get("YAxisTitleStyle")==="Bold"?"bold":"initial",Z=!this.Get("YAxisTitleStyle")==0&&this.Get("YAxisTitleStyle")==="BoldItalic"||this.Get("YAxisTitleStyle")==="Italic"?"italic":"initial",et=!this.Get("YAxisTitleEffect")||this.Get("YAxisTitleEffect")===""?"":this.Get("YAxisTitleEffect"),tt=!this.Get("YAxisLabelFont")||this.Get("YAxisLabelFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("YAxisLabelFont"),nt=!this.Get("YAxisLabelSize")||this.Get("YAxisLabelSize")===""?"10pt":this.Get("YAxisLabelSize")+"pt",rt=!this.Get("YAxisLabelColor")||this.Get("YAxisLabelColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("YAxisLabelColor")),it=!this.Get("YAxisLabelStyle")==0&&this.Get("YAxisLabelStyle")==="BoldItalic"||this.Get("YAxisLabelStyle")==="Bold"?"bold":"initial",st=!this.Get("YAxisLabelStyle")==0&&this.Get("YAxisLabelStyle")==="BoldItalic"||this.Get("YAxisLabelStyle")==="Italic"?"italic":"initial",ot=!this.Get("YAxisLabelEffect")||this.Get("YAxisLabelEffect")===""?"":this.Get("YAxisLabelEffect"),ut=!this.Get("YAxisMaximum")||this.Get("YAxisMaximum")===""?null:parseInt(this.Get("YAxisMaximum")),at=!this.Get("YAxisMinimum")||this.Get("YAxisMinimum")===""?null:parseInt(this.Get("YAxisMinimum")),ft=!this.Get("YAxisNumDivisions")||this.Get("YAxisNumDivisions")===""?10:parseInt(this.Get("YAxisNumDivisions")),lt=!this.Get("YAxisDataType")||this.Get("YAxisDataType")===""?"Number":this.Get("YAxisDataType"),ct=!this.Get("YAxisDisplayFormat")||this.Get("YAxisDisplayFormat")===""?"":this.Get("YAxisDisplayFormat"),ht=!this.Get("Y2AxisDisplayFormat")||this.Get("Y2AxisDisplayFormat")===""?"":this.Get("Y2AxisDisplayFormat"),pt=!this.Get("Y2AxisDataType")||this.Get("Y2AxisDataType")===""?"Number":this.Get("Y2AxisDataType"),dt=this.Get("Y2AxisTitle"),vt=!this.Get("Y2AxisTitleFont")||this.Get("Y2AxisTitleFont")===""?l:this.Get("Y2AxisTitleFont"),mt=!this.Get("Y2AxisTitleSize")||this.Get("Y2AxisTitleSize")===""?c:this.Get("Y2AxisTitleSize")+"pt",gt=B.call(this,this.Get("Y2AxisTitleColor")),yt=!this.Get("Y2AxisTitleStyle")||this.Get("Y2AxisTitleStyle")===""||this.Get("Y2AxisTitleStyle")==="BoldItalic"||this.Get("Y2AxisTitleStyle")==="Bold"?"bold":"initial",bt=!this.Get("Y2AxisTitleStyle")==0&&this.Get("Y2AxisTitleStyle")==="BoldItalic"||this.Get("Y2AxisTitleStyle")==="Italic"?"italic":"initial",wt=!this.Get("Y2AxisTitleEffect")||this.Get("Y2AxisTitleEffect")===""?"":this.Get("Y2AxisTitleEffect"),Et=!this.Get("Y2AxisLabelFont")||this.Get("Y2AxisLabelFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("Y2AxisLabelFont"),St=!this.Get("Y2AxisLabelSize")||this.Get("Y2AxisLabelSize")===""?"10pt":this.Get("Y2AxisLabelSize")+"pt",xt=!this.Get("Y2AxisLabelColor")||this.Get("Y2AxisLabelColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("Y2AxisLabelColor")),Tt=!this.Get("Y2AxisLabelStyle")==0&&this.Get("Y2AxisLabelStyle")==="BoldItalic"||this.Get("Y2AxisLabelStyle")==="Bold"?"bold":"initial",Nt=!this.Get("Y2AxisLabelStyle")==0&&this.Get("Y2AxisLabelStyle")==="BoldItalic"||this.Get("Y2AxisLabelStyle")==="Italic"?"italic":"initial",Ct=!this.Get("Y2AxisLabelEffect")||this.Get("Y2AxisLabelEffect")===""?"":this.Get("Y2AxisLabelEffect"),kt=!this.Get("Y2AxisMaximum")||this.Get("Y2AxisMaximum")===""?null:parseInt(this.Get("Y2AxisMaximum")),Lt=!this.Get("Y2AxisMinimum")||this.Get("Y2AxisMinimum")===""?null:parseInt(this.Get("Y2AxisMinimum")),At=!this.Get("Y2AxisNumDivisions")||this.Get("Y2AxisNumDivisions")===""?10:parseInt(this.Get("Y2AxisNumDivisions")),Ot=!this.Get("LegendFont")||this.Get("LegendFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("LegendFont"),Mt=!this.Get("LegendFontSize")||this.Get("LegendFontSize")===""?"10pt":this.Get("LegendFontSize")+"pt",_t=!this.Get("LegendFontStyle")==0&&this.Get("LegendFontStyle")==="Bold"||this.Get("LegendFontStyle")==="BoldItalic"?"bold":"initial",Dt=!this.Get("LegendFontStyle")==0&&this.Get("LegendFontStyle")==="Italic"||this.Get("LegendFontStyle")==="BoldItalic"?"italic":"initial",Pt=!this.Get("LegendFontEffect")==0?this.Get("LegendFontEffect"):"",Ht=!this.Get("LegendTextColor")||this.Get("LegendTextColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("LegendTextColor")),b=this.Get("Type"),Bt=!1,jt=135,Ft=1,It,qt,Rt=20,Ut=40,zt=120,Wt=(i-(a[0].length*Ut+Rt)-150)/a[0].length,Xt=u;Wt<=zt&&(zt=Wt,Rt/=5,Ut/=5,Wt<0&&(Wt=2,zt=2,Rt=1,Ut=1
)),u.length>8&&I===0?SiebelApp.S_App.GetDirection()?I=90:I=45:u.length<5&&I!==0&&(I=0);var Vt=zt*3/5;$.jqplot.config.enablePlugins=!0,$.jqplot.postDrawHooks.push(N),$.jqplot.postDrawHooks.push(T),$.jqplot.postDrawHooks.push(x),$.jqplot.postDrawHooks.push(m),$.jqplot.addLegendRowHooks.push(v),SiebelApp.S_App.GetDirection()&&($.jqplot.preInitHooks.push(H),$.jqplot.preDrawLegendHooks.push(_),$.jqplot.addLegendRowHooks.push(D),$.jqplot.postInitHooks.push(O),$.jqplot.postInitHooks.push(M));if(e.width()!==parseInt(i)&&e.height()!==parseInt(s)){var $t=parseInt(i)/parseInt(e.width());c=parseInt(c.replace("pt",""))/parseInt($t)+"pt",A=parseInt(A.replace("pt",""))/parseInt($t)+"pt",Q=parseInt(Q.replace("pt",""))/parseInt($t)+"pt",R=parseInt(R.replace("pt",""))/parseInt($t)+"pt",nt=parseInt(nt.replace("pt",""))/parseInt($t)+"pt",Mt=parseInt(Mt.replace("pt",""))/parseInt($t)+"pt"}this.plot=$.jqplot(n,a,{title:{text:y,show:!0,fontSize:c,fontFamily:l,fontWeight:p,fontStyle:d,fontEffect:g,textColor:h},grid:{drawGridLines:!1,shadow:Bt,shadowAngle:jt,shadowOffset:Ft,shadowWidth:1,shadowDepth:Vt,shadowAlpha:1},series:[{renderer:$.jqplot.BarRenderer,fillAndStroke:!0,fillToZero:!0,useNegativeColors:!1,fill:!0,label:J,rendererOptions:{barWidth:zt,barPadding:Rt,barMargin:Ut,fillAndStroke:!0,fill:!0}},{showLine:!1,label:dt,yaxis:"y2axis"}],legend:{marginTop:"30px",marginRight:"100px",marginLeft:"10px",show:!0,location:"sw",placement:"inside",showSwatches:!0,fontFamily:Ot,fontSize:Mt,textColor:Ht,fontStyle:Dt,fontEffect:Pt,fontWeight:_t},axesDefaults:{tickRenderer:$.jqplot.CanvasAxisBIUTickRenderer,labelRenderer:$.jqplot.CanvasAxisBIULabelRenderer,renderer:$.jqplot.GridAxisRenderer3D,rendererOptions:{baselineColor:"#000000",drawBaseline:!0}},highlighter:{show:!1,tooltipAxes:"x"},cursor:{show:!0,tooltipLocation:"sw"},axes:{xaxis:{renderer:$.jqplot.CategoryAxisRenderer3D,labelOptions:{fontFamily:L,fontSize:A,textColor:k,fontStyle:P,fontEffect:F,fontWeight:j},pad:1,label:C,ticks:Xt,tickOptions:{showGridline:!1,angle:I,fontFamily:q,fontSize:R,textColor:U,fontStyle:W,fontEffect:X,fontWeight:z,show:w,labelPosition:"middle"}},y2axis:{label:dt,siebDataType:pt,labelOptions:{fontFamily:vt,fontSize:mt,textColor:gt,fontStyle:bt,fontEffect:wt,fontWeight:yt},tickOptions:{fontFamily:Et,fontSize:St,textColor:xt,fontStyle:Nt,fontEffect:Ct,fontWeight:Tt},min:Lt,max:kt,numberTicks:At,siebFormat:ht},yaxis:{label:J,siebDataType:lt,labelOptions:{fontFamily:K,fontSize:Q,textColor:G,fontStyle:Z,fontEffect:et,fontWeight:Y},tickOptions:{fontFamily:tt,fontSize:nt,textColor:rt,fontStyle:st,fontEffect:ot,fontWeight:it},min:at,max:ut,numberTicks:ft,siebFormat:ct}}}),t.push(this.plot),$.jqplot.postSeriesInitHooks=[],$.jqplot.postDrawSeriesHooks=[],$.jqplot.preDrawSeriesHooks=[],$.jqplot.postDrawHooks=[],$.jqplot.preDrawHooks=[],$.jqplot.postInitHooks=[],$.jqplot.addLegendRowHooks=[],$.jqplot.preInitHooks=[],$.jqplot.preDrawLegendHooks=[],this.BindEvents()}function o(){var e=new $.jqplot.ColorGenerator(this.seriesColors);this.legend._series=[],this.legend.renderer=new $.jqplot.TableLegendRenderer;for(var t=0;t<this.legend.labels.length;t++){var n={};n.label=this.legend.labels[t],n.show=!0,n.showLabel=!0,n.renderer=$.jqplot.PieRenderer,n.showSwatches=!0,n.color=e.next(),this.legend._series.push(n)}e=null}function u(){var e=this.GetEl();e.html("");var n=e.attr("id"),r=!this.Get("InvertXZ?")||this.Get("InvertXZ?")==="0"?!1:!0,i=this.Get("Width"),s=this.Get("Height"),u="height:"+s+"px;width:"+i+"px;";e.attr("style",u);var a=r?p.call(this,$.parseJSON(this.Get("ZAxisData"))):$.parseJSON(this.Get("XAxisData")),f=r?h.call(this,a,objzaxis,$.parseJSON(this.Get("YAxisData"))):$.parseJSON(this.Get("YAxisData")),l=this.Get("DefaultChartFont"),c=!this.Get("Font")||this.Get("Font")===""?l:this.Get("Font"),d=!this.Get("FontSize")||this.Get("FontSize")===""?"15pt":this.Get("FontSize")+"pt",g=!this.Get("TitleColor")||this.Get("TitleColor")===""?B.call(this,"0 0 0"):B.call(this,this.Get("TitleColor")),y=!this.Get("FontStyle")||this.Get("FontStyle")===""||this.Get("FontStyle")==="BoldItalic"||this.Get("FontStyle")==="Bold"?"bold":"initial",b=!this.Get("FontStyle")==0&&this.Get("FontStyle")==="BoldItalic"||this.Get("FontStyle")==="Italic"?"italic":"initial",w=!this.Get("FontEffect")||this.Get("FontEffect")===""?"":this.Get("FontEffect"),E=this.Get("Title"),S=this.Get("Type"),T=r?!this.Get("ZAxisShowLegend?")||this.Get("ZAxisShowLegend?")==="1":!this.Get("XAxisShowLegend?")||this.Get("XAxisShowLegend?")==="1",N=this.Get("XAxisSort"),C=this.Get("XAxisSortField"),k=r?this.Get("ZAxisTitle"):this.Get("XAxisTitle"),L=B.call(this,this.Get("XAxisTitleColor")),A=!this.Get("XAxisTitleFont")||this.Get("XAxisTitleFont")===""?c:this.Get("XAxisTitleFont"),O=!this.Get("XAxisTitleSize")||this.Get("XAxisTitleSize")===""?d:this.Get("XAxisTitleSize")+"pt",M=!this.Get("XAxisTitleStyle")==0&&this.Get("XAxisTitleStyle")==="BoldItalic"||this.Get("XAxisTitleStyle")==="Italic"?"italic":"initial",_=!this.Get("XAxisTitleStyle")||this.Get("XAxisTitleStyle")===""||this.Get("XAxisTitleStyle")==="BoldItalic"||this.Get("XAxisTitleStyle")==="Bold"?"bold":"initial",D=!this.Get("XAxisTitleEffect")||this.Get("XAxisTitleEffect")===""?"":this.Get("XAxisTitleEffect"),P=this.Get("XAxisVerticalText?")==="1"?90:0,H=!this.Get("XAxisLabelFont")||this.Get("XAxisLabelFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("XAxisLabelFont"),j=!this.Get("XAxisLabelSize")||this.Get("XAxisLabelSize")===""?"10pt":this.Get("XAxisLabelSize")+"pt",I=!this.Get("XAxisLabelColor")||this.Get("XAxisLabelColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("XAxisLabelColor")),q=!this.Get("XAxisLabelStyle")==0&&this.Get("XAxisLabelStyle")==="BoldItalic"||this.Get("XAxisLabelStyle")==="Bold"?"bold":"initial",R=!this.Get("XAxisLabelStyle")==0&&this.Get("XAxisLabelStyle")==="BoldItalic"||this.Get("XAxisLabelStyle")==="Italic"?"italic":"initial",U=!this.Get("XAxisLabelEffect")||this.Get("XAxisLabelEffect")===""?""
:this.Get("XAxisLabelEffect"),z=!this.Get("ZAxisBarColours")||this.Get("ZAxisBarColours")===""?this.Get("ZAxisBarColours"):F.call(this,this.Get("ZAxisBarColours")),W=!this.Get("LegendFont")||this.Get("LegendFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("LegendFont"),X=!this.Get("LegendFontSize")||this.Get("LegendFontSize")===""?"10pt":this.Get("LegendFontSize")+"pt",V=!this.Get("LegendFontStyle")==0&&this.Get("LegendFontStyle")==="Bold"||this.Get("LegendFontStyle")==="BoldItalic"?"bold":"initial",J=!this.Get("LegendFontStyle")==0&&this.Get("LegendFontStyle")==="Italic"||this.Get("LegendFontStyle")==="BoldItalic"?"italic":"initial",K=!this.Get("LegendFontEffect")==0?this.Get("LegendFontEffect"):"",Q=!this.Get("LegendTextColor")||this.Get("LegendTextColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("LegendTextColor")),S=this.Get("Type");$.jqplot.config.enablePlugins=!0,$.jqplot.postDrawHooks.push(x),$.jqplot.postDrawHooks.push(m),$.jqplot.preDrawHooks.push(o),$.jqplot.addLegendRowHooks.push(v),this.plot=$.jqplot(n,f,{title:{text:E,show:!0,fontSize:d,fontFamily:c,fontWeight:y,fontStyle:b,fontEffect:w,textColor:g},seriesColors:z,seriesDefaults:{renderer:$.jqplot.PieRenderer,trendline:{show:!1}},axesDefaults:{show:!1,labelRenderer:$.jqplot.CanvasAxisBIULabelRenderer,tickOptions:{showLabel:!1,showMark:!1}},axes:{xaxis:{labelOptions:{fontFamily:A,fontSize:O,textColor:L,fontStyle:M,fontEffect:D,fontWeight:_},label:k}},grid:{drawBorder:!0,drawGridlines:!1,background:"#ffffff",shadow:!1},legend:{marginTop:"30px",marginRight:"100px",marginLeft:"10px",labels:a,show:!0,location:"sw",placement:"inside",showSwatches:!0,fontFamily:W,fontSize:X,textColor:Q,fontStyle:J,fontEffect:K,fontWeight:V}}),t.push(this.plot),$.jqplot.postDrawHooks=[],$.jqplot.addLegendRowHooks=[],$.jqplot.preDrawHooks=[],this.BindEvents()}function a(){var e=this.GetEl();e.html("");var n=e.attr("id"),r=!this.Get("InvertXZ?")||this.Get("InvertXZ?")==="0"?!1:!0,i=this.Get("Width"),s=this.Get("Height"),o="height:"+s+"px;width:"+i+"px;";e.attr("style",o);var u=r?p.call(this,$.parseJSON(this.Get("ZAxisData"))):$.parseJSON(this.Get("XAxisData")),a=r?d.call(this,$.parseJSON(this.Get("XAxisData"))):$.parseJSON(this.Get("ZAxisData")),f=r?h.call(this,u,a,$.parseJSON(this.Get("YAxisData"))):$.parseJSON(this.Get("YAxisData")),l=this.Get("DefaultChartFont"),c=!this.Get("Font")||this.Get("Font")===""?l:this.Get("Font"),g=!this.Get("FontSize")||this.Get("FontSize")===""?"15pt":this.Get("FontSize")+"pt",y=!this.Get("TitleColor")||this.Get("TitleColor")===""?B.call(this,"0 0 0"):B.call(this,this.Get("TitleColor")),b=!this.Get("FontStyle")||this.Get("FontStyle")===""||this.Get("FontStyle")==="BoldItalic"||this.Get("FontStyle")==="Bold"?"bold":"initial",w=!this.Get("FontStyle")==0&&this.Get("FontStyle")==="BoldItalic"||this.Get("FontStyle")==="Italic"?"italic":"initial",E=!this.Get("FontEffect")||this.Get("FontEffect")===""?"":this.Get("FontEffect"),S=this.Get("Title"),T=this.Get("Type"),C=r?!this.Get("ZAxisShowLegend?")||this.Get("ZAxisShowLegend?")==="1":!this.Get("XAxisShowLegend?")||this.Get("XAxisShowLegend?")==="1",k=this.Get("XAxisSort"),L=this.Get("XAxisSortField"),A=r?this.Get("ZAxisTitle"):this.Get("XAxisTitle"),O=B.call(this,this.Get("XAxisTitleColor")),M=!this.Get("XAxisTitleFont")||this.Get("XAxisTitleFont")===""?c:this.Get("XAxisTitleFont"),_=!this.Get("XAxisTitleSize")||this.Get("XAxisTitleSize")===""?g:this.Get("XAxisTitleSize")+"pt",D=!this.Get("XAxisTitleStyle")==0&&this.Get("XAxisTitleStyle")==="BoldItalic"||this.Get("XAxisTitleStyle")==="Italic"?"italic":"initial",P=!this.Get("XAxisTitleStyle")||this.Get("XAxisTitleStyle")===""||this.Get("XAxisTitleStyle")==="BoldItalic"||this.Get("XAxisTitleStyle")==="Bold"?"bold":"initial",H=!this.Get("XAxisTitleEffect")||this.Get("XAxisTitleEffect")===""?"":this.Get("XAxisTitleEffect"),j=this.Get("XAxisVerticalText?")==="1"?90:0,I=!this.Get("XAxisLabelFont")||this.Get("XAxisLabelFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("XAxisLabelFont"),q=!this.Get("XAxisLabelSize")||this.Get("XAxisLabelSize")===""?"10pt":this.Get("XAxisLabelSize")+"pt",R=!this.Get("XAxisLabelColor")||this.Get("XAxisLabelColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("XAxisLabelColor")),U=!this.Get("XAxisLabelStyle")==0&&this.Get("XAxisLabelStyle")==="BoldItalic"||this.Get("XAxisLabelStyle")==="Bold"?"bold":"initial",z=!this.Get("XAxisLabelStyle")==0&&this.Get("XAxisLabelStyle")==="BoldItalic"||this.Get("XAxisLabelStyle")==="Italic"?"italic":"initial",W=!this.Get("XAxisLabelEffect")||this.Get("XAxisLabelEffect")===""?"":this.Get("XAxisLabelEffect"),X=!this.Get("XAxisMaximum")||this.Get("XAxisMaximum")===""?null:parseInt(this.Get("XAxisMaximum")),V=!this.Get("XAxisMinimum")||this.Get("XAxisMinimum")===""?null:parseInt(this.Get("XAxisMinimum")),J=!this.Get("XAxisNumDivisions")||this.Get("XAxisNumDivisions")===""?10:parseInt(this.Get("XAxisNumDivisions")),K=!this.Get("XAxisTickIntervals")||this.Get("XAxisTickIntervals")===""?this.Get("XAxisTickIntervals"):10,Q=!this.Get("XAxisDisplayFormat")||this.Get("XAxisDisplayFormat")===""?"":this.Get("XAxisDisplayFormat"),G=!this.Get("XAxisDataType")||this.Get("XAxisDataType")===""?"Number":this.Get("XAxisDataType"),Y=B.call(this,this.Get("Y2AxisTitleColor")),Z=this.Get("YAxisGridColor"),et=this.Get("YAxisTitle"),tt=!this.Get("YAxisTitleFont")||this.Get("YAxisTitleFont")===""?c:this.Get("YAxisTitleFont"),nt=!this.Get("YAxisTitleSize")||this.Get("YAxisTitleSize")===""?g:this.Get("YAxisTitleSize")+"pt",rt=B.call(this,this.Get("YAxisTitleColor")),it=!this.Get("YAxisTitleStyle")||this.Get("YAxisTitleStyle")===""||this.Get("YAxisTitleStyle")==="BoldItalic"||this.Get("YAxisTitleStyle")==="Bold"?"bold":"initial",st=!this.Get("YAxisTitleStyle")==0&&this.Get("YAxisTitleStyle")==="BoldItalic"||this.Get("YAxisTitleStyle")==="Italic"?"italic":"initial",ot=!this.Get("YAxisTitleEffect")||this.Get("YAxisTitleEffect")===""?"":this.Get("YAxisTitleEffect"
),ut=!this.Get("YAxisLabelFont")||this.Get("YAxisLabelFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("YAxisLabelFont"),at=!this.Get("YAxisLabelSize")||this.Get("YAxisLabelSize")===""?"10pt":this.Get("YAxisLabelSize")+"pt",ft=!this.Get("YAxisLabelColor")||this.Get("YAxisLabelColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("YAxisLabelColor")),lt=!this.Get("YAxisLabelStyle")==0&&this.Get("YAxisLabelStyle")==="BoldItalic"||this.Get("YAxisLabelStyle")==="Bold"?"bold":"initial",ct=!this.Get("YAxisLabelStyle")==0&&this.Get("YAxisLabelStyle")==="BoldItalic"||this.Get("YAxisLabelStyle")==="Italic"?"italic":"initial",ht=!this.Get("YAxisLabelEffect")||this.Get("YAxisLabelEffect")===""?"":this.Get("YAxisLabelEffect"),pt=!this.Get("YAxisMaximum")||this.Get("YAxisMaximum")===""?null:parseInt(this.Get("YAxisMaximum")),dt=!this.Get("YAxisMinimum")||this.Get("YAxisMinimum")===""?null:parseInt(this.Get("YAxisMinimum")),vt=!this.Get("YAxisNumDivisions")||this.Get("YAxisNumDivisions")===""?this.Get("YAxisNumDivisions"):parseInt(this.Get("YAxisNumDivisions")),mt=!this.Get("YAxisDataType")||this.Get("YAxisDataType")===""?"Number":this.Get("YAxisDataType"),gt=!this.Get("YAxisDisplayFormat")||this.Get("YAxisDisplayFormat")===""?"":this.Get("YAxisDisplayFormat"),yt=!this.Get("ZAxisBarColours")||this.Get("ZAxisBarColours")===""?this.Get("ZAxisBarColours"):F.call(this,this.Get("ZAxisBarColours")),bt=this.Get("ZAxisDisplayFormat"),wt=this.Get("ZAxisShowLegend?"),Et=this.Get("ZAxisSort"),St=r?this.Get("XAxisTitle"):this.Get("ZAxisTitle"),xt=B.call(this,this.Get("ZAxisTitleColor")),Tt=this.Get("ZAxisVerticalText"),Nt=!a==0&&a.length>0&&a[0].label!==""?!0:!1,Ct=!this.Get("LegendFont")||this.Get("LegendFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("LegendFont"),kt=!this.Get("LegendFontSize")||this.Get("LegendFontSize")===""?"10pt":this.Get("LegendFontSize")+"pt",Lt=!this.Get("LegendFontStyle")==0&&this.Get("LegendFontStyle")==="Bold"||this.Get("LegendFontStyle")==="BoldItalic"?"bold":"initial",At=!this.Get("LegendFontStyle")==0&&this.Get("LegendFontStyle")==="Italic"||this.Get("LegendFontStyle")==="BoldItalic"?"italic":"initial",Ot=!this.Get("LegendFontEffect")==0?this.Get("LegendFontEffect"):"",Mt=!this.Get("LegendTextColor")||this.Get("LegendTextColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("LegendTextColor")),T=this.Get("Type"),_t=!1,Dt=!0,Pt=!this.Get("GraphicObject")||this.Get("GraphicObject")===""?null:$.parseJSON(this.Get("GraphicObject"));Pt!=null&&(Dt=!1,_t=!0),J++,this.Get("YAxisNumDivisions")&&vt++,u.length>8&&j===0?SiebelApp.S_App.GetDirection()?j=90:j=45:u.length<5&&j!==0&&(j=0),$.jqplot.config.enablePlugins=!0,$.jqplot.postInitHooks.push($.jqplot.CanvasOverlay.postPlotInit),$.jqplot.postDrawHooks.push($.jqplot.CanvasOverlay.postPlotDraw),$.jqplot.postDrawHooks.push(N),$.jqplot.postDrawHooks.push(x),$.jqplot.postDrawHooks.push(m),$.jqplot.addLegendRowHooks.push(v);if(e.width()!==parseInt(i)&&e.height()!==parseInt(s)){var Ht=parseInt(i)/parseInt(e.width());g=parseInt(g.replace("pt",""))/parseInt(Ht)+"pt",_=parseInt(_.replace("pt",""))/parseInt(Ht)+"pt",nt=parseInt(nt.replace("pt",""))/parseInt(Ht)+"pt",q=parseInt(q.replace("pt",""))/parseInt(Ht)+"pt",at=parseInt(at.replace("pt",""))/parseInt(Ht)+"pt",kt=parseInt(kt.replace("pt",""))/parseInt(Ht)+"pt"}this.plot=$.jqplot(n,f,{title:{text:S,show:!0,fontSize:g,fontFamily:c,fontWeight:b,fontStyle:w,fontEffect:E,textColor:y},series:a,seriesDefaults:{lineWidth:.8,showLine:!1},seriesColors:yt,canvasOverlay:{show:_t,objects:Pt},highlighter:{show:!1,tooltipAxes:"x",sizeAdjust:7.5},cursor:{show:!0,tooltipLocation:"sw"},axesDefaults:{tickRenderer:$.jqplot.CanvasAxisBIUTickRenderer,labelRenderer:$.jqplot.CanvasAxisBIULabelRenderer,renderer:$.jqplot.GridAxisRenderer3D,rendererOptions:{baselineColor:"#000000",drawBaseline:!0}},legend:{marginTop:"30px",marginRight:"100px",marginLeft:"10px",show:Nt,location:"sw",placement:"inside",showSwatches:!0,fontFamily:Ct,fontSize:kt,textColor:Mt,fontStyle:At,fontEffect:Ot,fontWeight:Lt},grid:{gridLineWidth:1},axes:{xaxis:{labelOptions:{fontFamily:M,fontSize:_,textColor:O,fontStyle:D,fontEffect:H,fontWeight:P},label:A,tickOptions:{showGridline:!1,angle:j,formatter:$.jqplot.DefaultTickFormatter,fontFamily:I,fontSize:q,textColor:R,fontStyle:z,fontEffect:W,fontWeight:U,show:C,labelPosition:"middle"},min:V,max:X,numberTicks:J,siebFormat:Q,siebDataType:G},yaxis:{label:et,siebDataType:mt,renderer:$.jqplot.GridAxisRenderer3D,labelOptions:{fontFamily:tt,fontSize:nt,textColor:rt,fontStyle:st,fontEffect:ot,fontWeight:it},tickRenderer:$.jqplot.CanvasAxisBIUTickRenderer,pad:1,tickOptions:{showGridline:Dt,markSize:6,formatter:$.jqplot.DefaultTickFormatter,fontFamily:ut,fontSize:at,textColor:ft,fontStyle:ct,fontEffect:ht,fontWeight:lt},min:dt,max:pt,numberTicks:vt,siebDataType:mt}}}),t.push(this.plot),$.jqplot.addLegendRowHooks=[],$.jqplot.postDrawHooks=[],$.jqplot.postInitHooks=[],this.BindEvents()}function f(){var e=this.GetEl();e.html("");var n=e.attr("id"),r=!this.Get("InvertXZ?")||this.Get("InvertXZ?")==="0"?!1:!0,i=this.Get("Width"),s=this.Get("Height"),o="height:"+s+"px;width:"+i+"px;";e.attr("style",o);var u=r?p.call(this,$.parseJSON(this.Get("ZAxisData"))):$.parseJSON(this.Get("XAxisData")),a=r?d.call(this,$.parseJSON(this.Get("XAxisData"))):$.parseJSON(this.Get("ZAxisData")),f=r?h.call(this,u,a,$.parseJSON(this.Get("YAxisData"))):$.parseJSON(this.Get("YAxisData")),l=this.Get("DefaultChartFont"),g=!this.Get("Font")||this.Get("Font")===""?l:this.Get("Font"),y=!this.Get("FontSize")||this.Get("FontSize")===""?"15pt":this.Get("FontSize")+"pt",b=!this.Get("TitleColor")||this.Get("TitleColor")===""?B.call(this,"0 0 0"):B.call(this,this.Get("TitleColor")),w=!this.Get("FontStyle")||this.Get("FontStyle")===""||this.Get("FontStyle")==="BoldItalic"||this.Get("FontStyle")==="Bold"?"bold":"initial",E=!this.Get("FontStyle")==0&&this.Get("FontStyle")==="BoldItalic"||this.Get("FontStyle")==="Italic"?"italic"
:"initial",S=!this.Get("FontEffect")||this.Get("FontEffect")===""?"":this.Get("FontEffect"),T=this.Get("Title"),C=this.Get("Type"),k=r?!this.Get("ZAxisShowLegend?")||this.Get("ZAxisShowLegend?")==="1":!this.Get("XAxisShowLegend?")||this.Get("XAxisShowLegend?")==="1",L=this.Get("XAxisSort"),A=this.Get("XAxisSortField"),O=r?this.Get("ZAxisTitle"):this.Get("XAxisTitle"),M=B.call(this,this.Get("XAxisTitleColor")),_=!this.Get("XAxisTitleFont")||this.Get("XAxisTitleFont")===""?g:this.Get("XAxisTitleFont"),D=!this.Get("XAxisTitleSize")||this.Get("XAxisTitleSize")===""?y:this.Get("XAxisTitleSize")+"pt",P=!this.Get("XAxisTitleStyle")==0&&this.Get("XAxisTitleStyle")==="BoldItalic"||this.Get("XAxisTitleStyle")==="Italic"?"italic":"initial",H=!this.Get("XAxisTitleStyle")||this.Get("XAxisTitleStyle")===""||this.Get("XAxisTitleStyle")==="BoldItalic"||this.Get("XAxisTitleStyle")==="Bold"?"bold":"initial",I=!this.Get("XAxisTitleEffect")||this.Get("XAxisTitleEffect")===""?"":this.Get("XAxisTitleEffect"),q=this.Get("XAxisVerticalText?")==="1"?90:0,R=!this.Get("XAxisLabelFont")||this.Get("XAxisLabelFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("XAxisLabelFont"),U=!this.Get("XAxisLabelSize")||this.Get("XAxisLabelSize")===""?"10pt":this.Get("XAxisLabelSize")+"pt",z=!this.Get("XAxisLabelColor")||this.Get("XAxisLabelColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("XAxisLabelColor")),W=!this.Get("XAxisLabelStyle")==0&&this.Get("XAxisLabelStyle")==="BoldItalic"||this.Get("XAxisLabelStyle")==="Bold"?"bold":"initial",X=!this.Get("XAxisLabelStyle")==0&&this.Get("XAxisLabelStyle")==="BoldItalic"||this.Get("XAxisLabelStyle")==="Italic"?"italic":"initial",V=!this.Get("XAxisLabelEffect")||this.Get("XAxisLabelEffect")===""?"":this.Get("XAxisLabelEffect"),J=B.call(this,this.Get("Y2AxisTitleColor")),K=this.Get("YAxisGridColor"),Q=this.Get("YAxisTitle"),G=!this.Get("YAxisTitleFont")||this.Get("YAxisTitleFont")===""?g:this.Get("YAxisTitleFont"),Y=!this.Get("YAxisTitleSize")||this.Get("YAxisTitleSize")===""?y:this.Get("YAxisTitleSize")+"pt",Z=B.call(this,this.Get("YAxisTitleColor")),et=!this.Get("YAxisTitleStyle")||this.Get("YAxisTitleStyle")===""||this.Get("YAxisTitleStyle")==="BoldItalic"||this.Get("YAxisTitleStyle")==="Bold"?"bold":"initial",tt=!this.Get("YAxisTitleStyle")==0&&this.Get("YAxisTitleStyle")==="BoldItalic"||this.Get("YAxisTitleStyle")==="Italic"?"italic":"initial",nt=!this.Get("YAxisTitleEffect")||this.Get("YAxisTitleEffect")===""?"":this.Get("YAxisTitleEffect"),rt=!this.Get("YAxisLabelFont")||this.Get("YAxisLabelFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("YAxisLabelFont"),it=!this.Get("YAxisLabelSize")||this.Get("YAxisLabelSize")===""?"10pt":this.Get("YAxisLabelSize")+"pt",st=!this.Get("YAxisLabelColor")||this.Get("YAxisLabelColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("YAxisLabelColor")),ot=!this.Get("YAxisLabelStyle")==0&&this.Get("YAxisLabelStyle")==="BoldItalic"||this.Get("YAxisLabelStyle")==="Bold"?"bold":"initial",ut=!this.Get("YAxisLabelStyle")==0&&this.Get("YAxisLabelStyle")==="BoldItalic"||this.Get("YAxisLabelStyle")==="Italic"?"italic":"initial",at=!this.Get("YAxisLabelEffect")||this.Get("YAxisLabelEffect")===""?"":this.Get("YAxisLabelEffect"),ft=!this.Get("YAxisMaximum")||this.Get("YAxisMaximum")===""?null:parseInt(this.Get("YAxisMaximum")),lt=!this.Get("YAxisMinimum")||this.Get("YAxisMinimum")===""?null:parseInt(this.Get("YAxisMinimum")),ct=!this.Get("YAxisNumDivisions")||this.Get("YAxisNumDivisions")===""?this.Get("YAxisNumDivisions"):parseInt(this.Get("YAxisNumDivisions")),ht=!this.Get("YAxisDataType")||this.Get("YAxisDataType")===""?"Number":this.Get("YAxisDataType"),pt=!this.Get("YAxisDisplayFormat")||this.Get("YAxisDisplayFormat")===""?"":this.Get("YAxisDisplayFormat"),dt=!this.Get("ZAxisBarColours")||this.Get("ZAxisBarColours")===""?this.Get("ZAxisBarColours"):F.call(this,this.Get("ZAxisBarColours")),vt=this.Get("ZAxisDisplayFormat"),mt=this.Get("ZAxisShowLegend?"),gt=this.Get("ZAxisSort"),yt=r?this.Get("XAxisTitle"):this.Get("ZAxisTitle"),bt=B.call(this,this.Get("ZAxisTitleColor")),wt=this.Get("ZAxisVerticalText"),Et=!a==0&&a.length>0&&a[0].label!==""?!0:!1,St=!this.Get("LegendFont")||this.Get("LegendFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("LegendFont"),xt=!this.Get("LegendFontSize")||this.Get("LegendFontSize")===""?"10pt":this.Get("LegendFontSize")+"pt",Tt=!this.Get("LegendFontStyle")==0&&this.Get("LegendFontStyle")==="Bold"||this.Get("LegendFontStyle")==="BoldItalic"?"bold":"initial",Nt=!this.Get("LegendFontStyle")==0&&this.Get("LegendFontStyle")==="Italic"||this.Get("LegendFontStyle")==="BoldItalic"?"italic":"initial",Ct=!this.Get("LegendFontEffect")==0?this.Get("LegendFontEffect"):"",kt=!this.Get("LegendTextColor")||this.Get("LegendTextColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("LegendTextColor")),C=this.Get("Type"),Lt=C==="2dSpline"?!0:!1;u.length>8&&q===0?q=45:u.length<5&&q!==0&&(q=0);var At=u;$.jqplot.config.enablePlugins=!0,$.jqplot.postDrawHooks.push(N),$.jqplot.postDrawHooks.push(x),$.jqplot.postDrawHooks.push(m),$.jqplot.addLegendRowHooks.push(v),$.jqplot.preDrawSeriesHooks.push(j),$.jqplot.preDrawSeriesHooks.push(c);if(e.width()!==parseInt(i)&&e.height()!==parseInt(s)){var Ot=parseInt(i)/parseInt(e.width());y=parseInt(y.replace("pt",""))/parseInt(Ot)+"pt",D=parseInt(D.replace("pt",""))/parseInt(Ot)+"pt",Y=parseInt(Y.replace("pt",""))/parseInt(Ot)+"pt",U=parseInt(U.replace("pt",""))/parseInt(Ot)+"pt",it=parseInt(it.replace("pt",""))/parseInt(Ot)+"pt",xt=parseInt(xt.replace("pt",""))/parseInt(Ot)+"pt"}this.plot=$.jqplot(n,f,{title:{text:T,show:!0,fontSize:y,fontFamily:g,fontWeight:w,fontStyle:E,fontEffect:S,textColor:b},series:a,seriesDefaults:{rendererOptions:{smooth:Lt},lineWidth:.8},seriesColors:dt,highlighter:{show:!1,tooltipAxes:"x",sizeAdjust:7.5},cursor:{show:!0,tooltipLocation:"sw"},axesDefaults:{tickRenderer:$.jqplot.CanvasAxisBIUTickRenderer,labelRenderer:$
.jqplot.CanvasAxisBIULabelRenderer,renderer:$.jqplot.GridAxisRenderer3D,rendererOptions:{baselineColor:"#000000",drawBaseline:!0}},legend:{marginTop:"30px",marginRight:"100px",marginLeft:"10px",show:Et,location:"sw",placement:"inside",showSwatches:!0,fontFamily:St,fontSize:xt,textColor:kt,fontStyle:Nt,fontEffect:Ct,fontWeight:Tt},grid:{gridLineWidth:1},axes:{xaxis:{renderer:$.jqplot.CategoryAxisRenderer3D,labelOptions:{fontFamily:_,fontSize:D,textColor:M,fontStyle:P,fontEffect:I,fontWeight:H},label:O,ticks:At,tickOptions:{showGridline:!1,angle:q,formatter:$.jqplot.DefaultTickFormatter,fontFamily:R,fontSize:U,textColor:z,fontStyle:X,fontEffect:V,fontWeight:W,show:k,labelPosition:"middle"}},yaxis:{label:Q,siebDataType:ht,labelOptions:{fontFamily:G,fontSize:Y,textColor:Z,fontStyle:tt,fontEffect:nt,fontWeight:et},tickRenderer:$.jqplot.CanvasAxisTickRenderer,pad:1,tickOptions:{markSize:6,formatter:$.jqplot.DefaultTickFormatter,fontFamily:rt,fontSize:it,textColor:st,fontStyle:ut,fontEffect:at,fontWeight:ot},min:lt,max:ft,numberTicks:ct,siebFormat:pt}}}),t.push(this.plot),$.jqplot.addLegendRowHooks=[],$.jqplot.postDrawHooks=[],$.jqplot.preDrawSeriesHooks=[],this.BindEvents()}function l(){var e=this.GetEl();e.html("");var n=e.attr("id"),r=!this.Get("InvertXZ?")||this.Get("InvertXZ?")==="0"?!1:!0,i=this.Get("Width"),s=this.Get("Height"),o="height:"+s+"px;width:"+i+"px;";e.attr("style",o);var u=r?p.call(this,$.parseJSON(this.Get("ZAxisData"))):$.parseJSON(this.Get("XAxisData")),a=r?d.call(this,$.parseJSON(this.Get("XAxisData"))):$.parseJSON(this.Get("ZAxisData")),f=r?h.call(this,u,a,$.parseJSON(this.Get("YAxisData"))):$.parseJSON(this.Get("YAxisData")),l=this.Get("DefaultChartFont"),c=!this.Get("Font")||this.Get("Font")===""?l:this.Get("Font"),y=!this.Get("FontSize")||this.Get("FontSize")===""?"15pt":this.Get("FontSize")+"pt",T=!this.Get("TitleColor")||this.Get("TitleColor")===""?B.call(this,"0 0 0"):B.call(this,this.Get("TitleColor")),A=!this.Get("FontStyle")||this.Get("FontStyle")===""||this.Get("FontStyle")==="BoldItalic"||this.Get("FontStyle")==="Bold"?"bold":"initial",j=!this.Get("FontStyle")==0&&this.Get("FontStyle")==="BoldItalic"||this.Get("FontStyle")==="Italic"?"italic":"initial",I=!this.Get("FontEffect")||this.Get("FontEffect")===""?"":this.Get("FontEffect"),q=this.Get("Title"),R=this.Get("Type"),U=this.Get("Type")==="2dStackedBar"||this.Get("Type")==="3dStackedBar"?!0:!1,z=r?!this.Get("ZAxisShowLegend?")||this.Get("ZAxisShowLegend?")==="1":!this.Get("XAxisShowLegend?")||this.Get("XAxisShowLegend?")==="1",W=this.Get("XAxisSort"),X=this.Get("XAxisSortField"),V=r?this.Get("ZAxisTitle"):this.Get("XAxisTitle"),J=B.call(this,this.Get("XAxisTitleColor")),K=!this.Get("XAxisTitleFont")||this.Get("XAxisTitleFont")===""?c:this.Get("XAxisTitleFont"),Q=!this.Get("XAxisTitleSize")||this.Get("XAxisTitleSize")===""?y:this.Get("XAxisTitleSize")+"pt",G=!this.Get("XAxisTitleStyle")==0&&this.Get("XAxisTitleStyle")==="BoldItalic"||this.Get("XAxisTitleStyle")==="Italic"?"italic":"initial",Y=!this.Get("XAxisTitleStyle")||this.Get("XAxisTitleStyle")===""||this.Get("XAxisTitleStyle")==="BoldItalic"||this.Get("XAxisTitleStyle")==="Bold"?"bold":"initial",Z=!this.Get("XAxisTitleEffect")||this.Get("XAxisTitleEffect")===""?"":this.Get("XAxisTitleEffect"),et=this.Get("XAxisVerticalText?")==="1"?90:0,tt=!this.Get("XAxisLabelFont")||this.Get("XAxisLabelFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("XAxisLabelFont"),nt=!this.Get("XAxisLabelSize")||this.Get("XAxisLabelSize")===""?"10pt":this.Get("XAxisLabelSize")+"pt",rt=!this.Get("XAxisLabelColor")||this.Get("XAxisLabelColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("XAxisLabelColor")),it=!this.Get("XAxisLabelStyle")==0&&this.Get("XAxisLabelStyle")==="BoldItalic"||this.Get("XAxisLabelStyle")==="Bold"?"bold":"initial",st=!this.Get("XAxisLabelStyle")==0&&this.Get("XAxisLabelStyle")==="BoldItalic"||this.Get("XAxisLabelStyle")==="Italic"?"italic":"initial",ot=!this.Get("XAxisLabelEffect")||this.Get("XAxisLabelEffect")===""?"":this.Get("XAxisLabelEffect"),ut=B.call(this,this.Get("Y2AxisTitleColor")),at=this.Get("YAxisGridColor"),ft=this.Get("YAxisTitle"),lt=!this.Get("YAxisTitleFont")||this.Get("YAxisTitleFont")===""?c:this.Get("YAxisTitleFont"),ct=!this.Get("YAxisTitleSize")||this.Get("YAxisTitleSize")===""?y:this.Get("YAxisTitleSize")+"pt",ht=B.call(this,this.Get("YAxisTitleColor")),pt=!this.Get("YAxisTitleStyle")||this.Get("YAxisTitleStyle")===""||this.Get("YAxisTitleStyle")==="BoldItalic"||this.Get("YAxisTitleStyle")==="Bold"?"bold":"initial",dt=!this.Get("YAxisTitleStyle")==0&&this.Get("YAxisTitleStyle")==="BoldItalic"||this.Get("YAxisTitleStyle")==="Italic"?"italic":"initial",vt=!this.Get("YAxisTitleEffect")||this.Get("YAxisTitleEffect")===""?"":this.Get("YAxisTitleEffect"),mt=!this.Get("YAxisLabelFont")||this.Get("YAxisLabelFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("YAxisLabelFont"),gt=!this.Get("YAxisLabelSize")||this.Get("YAxisLabelSize")===""?"10pt":this.Get("YAxisLabelSize")+"pt",yt=!this.Get("YAxisLabelColor")||this.Get("YAxisLabelColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("YAxisLabelColor")),bt=!this.Get("YAxisLabelStyle")==0&&this.Get("YAxisLabelStyle")==="BoldItalic"||this.Get("YAxisLabelStyle")==="Bold"?"bold":"initial",wt=!this.Get("YAxisLabelStyle")==0&&this.Get("YAxisLabelStyle")==="BoldItalic"||this.Get("YAxisLabelStyle")==="Italic"?"italic":"initial",Et=!this.Get("YAxisLabelEffect")||this.Get("YAxisLabelEffect")===""?"":this.Get("YAxisLabelEffect"),St=!this.Get("YAxisMaximum")||this.Get("YAxisMaximum")===""?null:parseInt(this.Get("YAxisMaximum")),xt=!this.Get("YAxisMinimum")||this.Get("YAxisMinimum")===""?null:parseInt(this.Get("YAxisMinimum")),Tt=!this.Get("YAxisNumDivisions")||this.Get("YAxisNumDivisions")===""?this.Get("YAxisNumDivisions"):parseInt(this.Get("YAxisNumDivisions")),Nt=!this.Get("YAxisDataType")||this.Get("YAxisDataType")===""?this.Get("Y2AxisDataType"):this.Get("YAxisDataType"
),Ct=!this.Get("YAxisDisplayFormat")||this.Get("YAxisDisplayFormat")===""?"":this.Get("YAxisDisplayFormat"),kt=!this.Get("ZAxisBarColours")||this.Get("ZAxisBarColours")===""?this.Get("ZAxisBarColours"):F.call(this,this.Get("ZAxisBarColours")),Lt=this.Get("ZAxisDisplayFormat"),At=this.Get("ZAxisShowLegend?"),Ot=this.Get("ZAxisSort"),Mt=r?this.Get("XAxisTitle"):this.Get("ZAxisTitle"),_t=B.call(this,this.Get("ZAxisTitleColor")),Dt=this.Get("ZAxisVerticalText"),Pt=!a==0&&a.length>0&&a[0].label!==""?!0:!1,Ht=!this.Get("LegendFont")||this.Get("LegendFont")===""?"Trebuchet MS, Arial, Helvetica, sans-serif":this.Get("LegendFont"),Bt=!this.Get("LegendFontSize")||this.Get("LegendFontSize")===""?"10pt":this.Get("LegendFontSize")+"pt",jt=!this.Get("LegendFontStyle")==0&&this.Get("LegendFontStyle")==="Bold"||this.Get("LegendFontStyle")==="BoldItalic"?"bold":"initial",Ft=!this.Get("LegendFontStyle")==0&&this.Get("LegendFontStyle")==="Italic"||this.Get("LegendFontStyle")==="BoldItalic"?"italic":"initial",It=!this.Get("LegendFontEffect")==0?this.Get("LegendFontEffect"):"",qt=!this.Get("LegendTextColor")||this.Get("LegendTextColor")===""?B.call(this,"102 102 102"):B.call(this,this.Get("LegendTextColor")),R=this.Get("Type"),Rt=!1,Ut=135,zt=1,Wt,Xt,Vt=20,$t=40,Jt=120,Kt=(i-(u.length*$t+a.length*Vt)-150)/(u.length*a.length),Qt="",Gt="";R.search("HorizBar")!=-1?(Kt=(s-(u.length*$t+a.length*Vt)-150)/(u.length*a.length),Vt/=5,$t/=5,Kt<0&&(Kt=(s-150)/(u.length*a.length),Jt=Kt,Vt=0,$t=0,Kt<0&&(Kt=1,Jt=1,Vt=.5,$t=.5))):Kt<=Jt&&(Jt=Kt,Vt/=5,$t/=5,Kt<0&&(Kt=2,Jt=2,Vt=1,$t=1)),u.length>8&&et===0?SiebelApp.S_App.GetDirection()?et=90:et=45:u.length<5&&et!==0&&(et=0);var Yt=Jt*3/5;R.search("HorizBar")!=-1&&(et=0),$.jqplot.config.enablePlugins=!0;var Zt=u;R.search("3d")!=-1?(Rt=!0,$.jqplot.postDrawSeriesHooks.push(b),$.isArray(u)&&$.isArray(a)&&u.length>1&&a.length>1&&$.jqplot.postDrawSeriesHooks.push(k),$.jqplot.postDrawSeriesHooks.push(w),$.jqplot.preDrawSeriesHooks.push(E),$.jqplot.preDrawSeriesShadowHooks.push(E),$.jqplot.postDrawHooks.push(L),$.jqplot.preDrawHooks.push(S),$.jqplot.postDrawHooks.push(g),Wt=Math.cos(Ut*Math.PI/180)*zt*Yt,Xt=Math.sin(Ut*Math.PI/180)*zt*Yt,Wt=Math.abs(Wt),Xt=Math.abs(Xt)):R.search("2d")!=-1&&$.isArray(u)&&$.isArray(a)&&u.length>1&&a.length>1&&(R.search("HorizBar")!=-1?$.jqplot.postDrawSeriesHooks.push(C):$.jqplot.postDrawSeriesHooks.push(k)),U&&$.jqplot.preDrawLegendHooks.push(P),$.jqplot.postDrawHooks.push(N),$.jqplot.postDrawHooks.push(x),$.jqplot.postDrawHooks.push(m),$.jqplot.addLegendRowHooks.push(v),SiebelApp.S_App.GetDirection()&&($.jqplot.preInitHooks.push(H),$.jqplot.preDrawLegendHooks.push(_),$.jqplot.addLegendRowHooks.push(D),$.jqplot.postInitHooks.push(O),$.jqplot.postInitHooks.push(M));if(e.width()!==parseInt(i)&&e.height()!==parseInt(s)){var en=parseInt(i)/parseInt(e.width());y=parseInt(y.replace("pt",""))/parseInt(en)+"pt",Q=parseInt(Q.replace("pt",""))/parseInt(en)+"pt",ct=parseInt(ct.replace("pt",""))/parseInt(en)+"pt",nt=parseInt(nt.replace("pt",""))/parseInt(en)+"pt",gt=parseInt(gt.replace("pt",""))/parseInt(en)+"pt",Bt=parseInt(Bt.replace("pt",""))/parseInt(en)+"pt"}Qt=R==="2dHorizBar"?"yaxis":"xaxis",Gt=R==="2dHorizBar"?"xaxis":"yaxis",R==="2dHorizBar"?this.plot=$.jqplot(n,f,{title:{text:q,show:!0,fontSize:y,fontFamily:c,fontWeight:A,fontStyle:j,fontEffect:I,textColor:T},stackSeries:U,seriesColors:kt,seriesDefaults:{renderer:$.jqplot.BarRenderer,fillAndStroke:!0,fillToZero:!0,useNegativeColors:!1,fill:!0,rendererOptions:{varyBarColor:!Pt,barDirection:Qt==="yaxis"?"horizontal":"vertical",barWidth:Jt,barPadding:Vt,barMargin:$t,shadow:Rt,shadowDepth:Yt,shadowOffset:zt,shadowWidth:1,shadowAngle:Ut,shadowAlpha:1,fillAndStroke:!0,fill:!0}},grid:{drawGridLines:!1,shadow:Rt,shadowAngle:Ut,shadowOffset:zt,shadowWidth:1,shadowDepth:Yt,shadowAlpha:1},series:a,legend:{marginTop:"30px",marginRight:"100px",marginLeft:"10px",show:Pt,location:"sw",placement:"inside",showSwatches:!0,fontFamily:Ht,fontSize:Bt,textColor:qt,fontStyle:Ft,fontEffect:It,fontWeight:jt},axesDefaults:{tickRenderer:$.jqplot.CanvasAxisBIUTickRenderer,labelRenderer:$.jqplot.CanvasAxisBIULabelRenderer,renderer:$.jqplot.GridAxisRenderer3D,rendererOptions:{baselineColor:"#000000",drawBaseline:!0}},highlighter:{show:!1,tooltipAxes:"x"},cursor:{show:!0,tooltipLocation:"sw"},axes:{yaxis:{renderer:$.jqplot.CategoryAxisRenderer3D,labelOptions:{fontFamily:K,fontSize:Q,textColor:J,fontStyle:G,fontEffect:Z,fontWeight:Y},pad:1,label:V,ticks:Zt,tickOptions:{showGridline:!1,angle:et,fontFamily:tt,fontSize:nt,textColor:rt,fontStyle:st,fontEffect:ot,fontWeight:it,show:z,labelPosition:"middle"}},xaxis:{label:ft,renderer:$.jqplot.GridAxisRenderer3D,siebDataType:Nt,labelOptions:{fontFamily:lt,fontSize:ct,textColor:ht,fontStyle:dt,fontEffect:vt,fontWeight:pt},tickOptions:{fontFamily:mt,fontSize:gt,textColor:yt,fontStyle:wt,fontEffect:Et,fontWeight:bt},min:xt,max:St,numberTicks:Tt,siebFormat:Ct}}}):this.plot=$.jqplot(n,f,{title:{text:q,show:!0,fontSize:y,fontFamily:c,fontWeight:A,fontStyle:j,fontEffect:I,textColor:T},stackSeries:U,seriesColors:kt,seriesDefaults:{renderer:$.jqplot.BarRenderer,fillAndStroke:!0,fillToZero:!0,useNegativeColors:!1,fill:!0,rendererOptions:{varyBarColor:!Pt,barDirection:Qt==="yaxis"?"horizontal":"vertical",barWidth:Jt,barPadding:Vt,barMargin:$t,shadow:Rt,shadowDepth:Yt,shadowOffset:zt,shadowWidth:1,shadowAngle:Ut,shadowAlpha:1,fillAndStroke:!0,fill:!0}},grid:{drawGridLines:!1,shadow:Rt,shadowAngle:Ut,shadowOffset:zt,shadowWidth:1,shadowDepth:Yt,shadowAlpha:1},series:a,legend:{marginTop:"30px",marginRight:"100px",marginLeft:"10px",show:Pt,location:"sw",placement:"inside",showSwatches:!0,fontFamily:Ht,fontSize:Bt,textColor:qt,fontStyle:Ft,fontEffect:It,fontWeight:jt},axesDefaults:{tickRenderer:$.jqplot.CanvasAxisBIUTickRenderer,labelRenderer:$.jqplot.CanvasAxisBIULabelRenderer,renderer:$.jqplot.GridAxisRenderer3D,rendererOptions:{baselineColor:"#000000",drawBaseline:!0}},highlighter:{show:!1,tooltipAxes:"x"
},cursor:{show:!0,tooltipLocation:"sw"},axes:{xaxis:{renderer:$.jqplot.CategoryAxisRenderer3D,labelOptions:{fontFamily:K,fontSize:Q,textColor:J,fontStyle:G,fontEffect:Z,fontWeight:Y},pad:1,label:V,ticks:Zt,tickOptions:{showGridline:!1,angle:et,fontFamily:tt,fontSize:nt,textColor:rt,fontStyle:st,fontEffect:ot,fontWeight:it,show:z,labelPosition:"middle"}},yaxis:{label:ft,renderer:$.jqplot.GridAxisRenderer3D,siebDataType:Nt,labelOptions:{fontFamily:lt,fontSize:ct,textColor:ht,fontStyle:dt,fontEffect:vt,fontWeight:pt},tickOptions:{fontFamily:mt,fontSize:gt,textColor:yt,fontStyle:wt,fontEffect:Et,fontWeight:bt},min:xt,max:St,numberTicks:Tt,siebFormat:Ct}}}),t.push(this.plot),$.jqplot.postSeriesInitHooks=[],$.jqplot.postDrawSeriesHooks=[],$.jqplot.preDrawSeriesHooks=[],$.jqplot.preDrawSeriesShadowHooks=[],$.jqplot.postDrawHooks=[],$.jqplot.preDrawHooks=[],$.jqplot.postInitHooks=[],$.jqplot.addLegendRowHooks=[],$.jqplot.preInitHooks=[],$.jqplot.preDrawLegendHooks=[],this.BindEvents()}function c(e,t){var n=18;typeof this.index!="undefined"&&typeof this.markerRenderer!="undefined"&&(this.markerRenderer.size=n-this.index*4,this.neighborThreshold=0,this.markerRenderer.size<=4&&(this.markerRenderer.size=4))}function h(e,t,n){var r=[];for(var i=0;i<t.length;i++){var s=[];r.push(s)}for(var o=0;o<e.length;o++)for(var i=0;i<r.length;i++)r[i].push(n[o][i]);return r}function p(e){var t=[];for(var n=0;n<e.length;n++)t.push(e[n].label);return t}function d(e){var t=[];for(var n=0;n<e.length;n++){var r={};r.label=e[n],t.push(r)}return t}function v(e){var t={position:"absolute"};this.fontSize&&(t.fontSize=this.fontSize),this.fontFamily&&(t.fontFamily=this.fontFamily),this.fontWeight&&(t.fontWeight=this.fontWeight),this.textColor&&(t.color=this.textColor),this.fontStyle&&(t.fontStyle=this.fontStyle),!this.fontEffect==0&&this.fontEffect.indexOf("Underline")>=0&&(t["text-decoration"]="underline"),!this.fontEffect==0&&this.fontEffect.indexOf("StrikeThrough")>=0&&(t["text-decoration"]="line-through"),this._elem.css(t),e.forcedstack&&(e._stack=!0)}function m(){this.title&&this.title.show&&(this.title._elem.css("font-weight",this.title.fontWeight),this.title._elem.css("font-style",this.title.fontStyle),!this.title.fontEffect==0&&this.title.fontEffect.indexOf("Underline")>=0&&this.title._elem.css("text-decoration","underline"),!this.title.fontEffect==0&&this.title.fontEffect.indexOf("StrikeThrough")>=0&&this.title._elem.css("text-decoration","line-through"))}function g(){if(!this.eventCanvas==0&&!this.eventCanvas.adjusted){var e=this.series[0].renderer.shadowRenderer,t=Math.cos(e.angle*Math.PI/180)*e.offset*e.depth,n=Math.sin(e.angle*Math.PI/180)*e.offset*e.depth;t=Math.abs(t),n=Math.abs(n),this.eventCanvas._ctx.canvas.width=this.eventCanvas._ctx.canvas.width+t,this.eventCanvas._ctx.canvas.height=this.eventCanvas._ctx.canvas.height+n,SiebelApp.S_App.GetDirection()||$(this.eventCanvas._ctx.canvas).css("left",this.eventCanvas._ctx.canvas.offsetLeft-t),this.eventCanvas.adjusted=!0}}function y(e,t,n,r){var i=r.data.ctx.plot;if(!i==0&&i.grid.shadowforced===!0){var s=i.series[e]._barPoints[t],o=i.series[e].renderer.shadowRenderer,u=i.plugins.barRenderer.highlightCanvas._ctx,a=Math.cos(o.angle*Math.PI/180)*o.offset*o.depth,f=Math.sin(o.angle*Math.PI/180)*o.offset*o.depth;a=Math.abs(a),f=Math.abs(f),i.series[e].highlightMouseOver=!1,i.plugins.barRenderer.highlightCanvas.adjusted||(i.plugins.barRenderer.highlightCanvas.adjusted=!0,u.canvas.width=u.canvas.width+a,u.canvas.height=u.canvas.height+f,i.axes.yaxis.show&&$(u.canvas).css("left",u.canvas.offsetLeft-a)),u.clearRect(0,0,u.canvas.width,u.canvas.height),u.fillStyle=i.series[e].highlightColors[t],a=i.axes.yaxis.show?a:0-a,u.beginPath();if(s.length===4){var l=i.axes.yaxis.show?s[0][0]+a:s[3][0],c=i.axes.yaxis.show?s[1][0]+a:s[2][0],h=i.axes.yaxis.show?s[2][0]+a:s[1][0],p=i.axes.yaxis.show?s[3][0]+a:s[0][0],d=i.axes.yaxis.show?s[0][1]:s[3][1],v=i.axes.yaxis.show?s[1][1]:s[2][1],m=i.axes.yaxis.show?s[2][1]:s[1][1],g=i.axes.yaxis.show?s[3][1]:s[0][1];u.moveTo(h,m),u.lineTo(p,g),u.lineTo(p-a,g+f),u.lineTo(h-a,m+f),u.lineTo(h,m),u.fill(),i.series[e].barWidth>1&&u.stroke(),u.moveTo(p-a,g+f),u.lineTo(h-a,m+f),u.lineTo(c-a,v+f),u.lineTo(l-a,d+f),u.lineTo(p-a,g+f),u.fill(),i.series[e].barWidth>1&&u.stroke(),u.moveTo(h-a,m+f),u.lineTo(c-a,v+f),u.lineTo(c,v),u.lineTo(h,m),u.lineTo(h-a,m+f),u.fill(),i.series[e].barWidth>1&&u.stroke()}u.closePath()}}function b(e,t,n){var r=this.renderer.shadowRenderer,i=Math.cos(r.angle*Math.PI/180)*r.offset*r.depth,s=Math.sin(r.angle*Math.PI/180)*r.offset*r.depth,o=n.axes.yaxis.show?n.axes.yaxis:n.axes.y2axis,u=!0,a;i=Math.abs(i),s=Math.abs(s);if(n.grid&&!n.gridcomplete){var f=[[n.grid._left,n.grid._top],[n.grid._left,n.grid._bottom],[n.grid._right,n.grid._bottom]];n.gridcomplete=!0;var l=n.axes.yaxis.show?n.grid._left:n.grid._right,c=n.axes.yaxis.show?n.grid._right:n.grid._left;i=n.axes.yaxis.show?i:0-i,n.grid._ctx.save(),o.borderWidth!==null&&(n.grid._ctx.lineWidth=o.borderWidth),o.borderColor!==null&&(n.grid._ctx.strokeStyle=o.borderColor),n.grid._ctx.moveTo(l,n.grid._top),n.grid._ctx.lineTo(l-i,n.grid._top+s),n.grid._ctx.lineTo(l-i,n.grid._bottom+s),n.grid._ctx.lineTo(c-i,n.grid._bottom+s),n.grid._ctx.lineTo(c,n.grid._bottom),n.grid._ctx.stroke(),n.grid._ctx.moveTo(l,n.grid._bottom),n.grid._ctx.lineTo(l-i,n.grid._bottom+s),n.grid._ctx.stroke(),n.grid._ctx.restore()}n.gridcomplete||(n.gridcomplete=!0)}function w(e,t,n){var r=this._barPoints,i=this.renderer.shadowRenderer,s=Math.cos(i.angle*Math.PI/180)*i.offset*i.depth,o=Math.sin(i.angle*Math.PI/180)*i.offset*i.depth,u=!0,a,f=n.axes.yaxis.show?n.axes.yaxis._min:n.axes.y2axis._min,l=new $.jqplot.ColorGenerator(this.seriesColors);s=Math.abs(s),o=Math.abs(o),n.axes.yaxis.show&&$(e.canvas).css("left",e.canvas.offsetLeft-s),e.canvas.height=e.canvas.height+o,e.canvas.width=e.canvas.width+s,e.save(),e.lineWidth="1",e.lineJoin=this.renderer.shapeRenderer.lineJoin,e.lineCap=this.renderer.shapeRenderer,e.strokeStyle="#000000"
,e.fillStyle=this.renderer.shapeRenderer.fillStyle,e.beginPath(),s=n.axes.yaxis.show?s:0-s;for(var c=0;c<r.length;c++){var h=r[c];this.varyBarColor&&!this._stack&&(e.closePath(),e.fillStyle=l.next(),e.beginPath());if(this._stack&&r[c].length===4&&this._plotData[c][1]<0){var p=$(e.canvas).parent().children(".jqplot-series-shadowCanvas")[0].getContext("2d");n.negetiveStackInit!==!0&&(n.negetiveStackInit=!0,$(p.canvas).css("left",e.canvas.offsetLeft),p.canvas.height=e.canvas.height+o,p.canvas.width=e.canvas.width+s),p.save(),p.globalCompositeOperation="destination-over",p.lineWidth="1.5",p.lineJoin=this.renderer.shapeRenderer.lineJoin,p.lineCap=this.renderer.shapeRenderer,p.strokeStyle="#000000",p.fillStyle=this.renderer.shapeRenderer.fillStyle,p.beginPath();var d=n.axes.yaxis.show?r[c][0][0]+s:r[c][3][0],v=n.axes.yaxis.show?r[c][1][0]+s:r[c][2][0],m=n.axes.yaxis.show?r[c][2][0]+s:r[c][1][0],g=n.axes.yaxis.show?r[c][3][0]+s:r[c][0][0],y=n.axes.yaxis.show?r[c][0][1]:r[c][3][1],b=n.axes.yaxis.show?r[c][1][1]:r[c][2][1],w=n.axes.yaxis.show?r[c][2][1]:r[c][1][1],E=n.axes.yaxis.show?r[c][3][1]:r[c][0][1];if(this._stack&&y===b&&b===w&&w===E)continue;p.moveTo(g,E),p.lineTo(g-s,E+o),p.lineTo(d-s,y+o),p.lineTo(v-s,b+o),p.lineTo(v,b),p.lineTo(m,w),p.lineTo(g,E),p.fill(),p.closePath(),p.globalCompositeOperation="source-over",p.lineWidth="1.5",p.lineJoin=this.renderer.shapeRenderer.lineJoin,p.lineCap=this.renderer.shapeRenderer,p.strokeStyle="#000000",p.fillStyle=this.renderer.shapeRenderer.fillStyle,p.beginPath(),p.moveTo(g,E),p.lineTo(g-s,E+o),p.lineTo(d-s,y+o),p.lineTo(v-s,b+o),p.stroke(),p.closePath(),p.globalCompositeOperation="destination-over",p.lineWidth="1.5",p.lineJoin=this.renderer.shapeRenderer.lineJoin,p.lineCap=this.renderer.shapeRenderer,p.strokeStyle="#000000",p.fillStyle=this.renderer.shapeRenderer.fillStyle,p.beginPath(),p.moveTo(v-s,b+o),p.lineTo(v,b),p.lineTo(m,w),p.lineTo(g,E),p.stroke(),p.closePath(),this.barWidth>1&&(p.globalCompositeOperation="source-over",p.lineWidth="1.5",p.lineJoin=this.renderer.shapeRenderer.lineJoin,p.lineCap=this.renderer.shapeRenderer,p.strokeStyle="#000000",p.fillStyle=this.renderer.shapeRenderer.fillStyle,p.beginPath(),p.moveTo(v-s,b+o),p.lineTo(m-s,w+o),a=E+o,a=a<=e.canvas.height?a:e.canvas.height,p.lineTo(g-s,a),a=y+o,a=a<=e.canvas.height?a:e.canvas.height,p.lineTo(d-s,a),p.stroke(),p.closePath()),this.barWidth>1&&(p.globalCompositeOperation="destination-over",p.lineWidth="1.5",p.lineJoin=this.renderer.shapeRenderer.lineJoin,p.lineCap=this.renderer.shapeRenderer,p.strokeStyle="#000000",p.fillStyle=this.renderer.shapeRenderer.fillStyle,p.beginPath(),p.moveTo(m-s,w+o),p.lineTo(m,w),p.stroke(),p.closePath()),p.restore();continue}if(r[c].length===4&&this._plotData[c][1]!==0){var d=n.axes.yaxis.show?r[c][0][0]+s:r[c][3][0],v=n.axes.yaxis.show?r[c][1][0]+s:r[c][2][0],m=n.axes.yaxis.show?r[c][2][0]+s:r[c][1][0],g=n.axes.yaxis.show?r[c][3][0]+s:r[c][0][0],y=n.axes.yaxis.show?r[c][0][1]:r[c][3][1],b=n.axes.yaxis.show?r[c][1][1]:r[c][2][1],w=n.axes.yaxis.show?r[c][2][1]:r[c][1][1],E=n.axes.yaxis.show?r[c][3][1]:r[c][0][1];if(this._stack&&y===b&&b===w&&w===E)continue;e.moveTo(g,E),e.lineTo(g-s,E+o),e.lineTo(d-s,y+o),e.lineTo(v-s,b+o),e.lineTo(v,b),e.lineTo(m,w),e.lineTo(g,E),e.fill(),this.barWidth>1&&e.stroke(),e.moveTo(v-s,b+o),e.lineTo(m-s,w+o),a=E+o,a=a<=e.canvas.height?a:e.canvas.height,e.lineTo(g-s,a),a=y+o,a=a<=e.canvas.height?a:e.canvas.height,e.lineTo(d-s,a),this.barWidth>1&&e.stroke(),e.moveTo(m-s,w+o),e.lineTo(m,w),this.barWidth>1&&e.stroke()}}e.closePath(),e.restore(),l=null}function E(e,t){this.shadow=!1}function S(){this.grid.shadow=!1,this.grid.shadowforced=!0}function x(){if(this._gridPadding!=null&&this._gridPadding.left!=null&&this.legend!=null&&this.legend._elem!=null){var e=$(this.legend._elem).detach();$(this.target).append(e),$(e).addClass("siebui-chart-legend"),$(e).css("right",""),$(e).css("top",this._gridPadding.top-5),$(e).css("left","")}}function T(){var e=this.axes.y2axis.show?this.axes.y2axis:this.axes.yaxis;e&&e.show===!0&&e._elem.css("right",0)}function N(){var e=this.axes.yaxis.show?this.axes.yaxis:this.axes.y2axis;if(this.series&&this.series.length>0&&e){var t=Math.cos(this.series[0].shadowAngle*Math.PI/180)*this.series[0].shadowOffset*this.series[0].shadowDepth,n=Math.sin(this.series[0].shadowAngle*Math.PI/180)*this.series[0].shadowOffset*this.series[0].shadowDepth,r=e._ticks;this.axes.xaxis._elem.css("bottom",0),e.name==="yaxis"?e._elem.css("left",0):e.name==="y2axis"&&e._elem.css("right",0),e._elem.css("top",2),this.axes.xaxis._elem.css("left",""),this.grid!=null&&this.grid.shadowforced===!0&&(t=Math.abs(t),n=Math.abs(n),e._elem.css("top",n-2),e.name==="yaxis"?this.axes.xaxis._elem.css("right",n):e.name==="y2axis"&&this.axes.xaxis._elem.css("left",n))}}function C(e,t,n){var r=this.renderer.shadowRenderer,i=Math.cos(r.angle*Math.PI/180)*r.offset*r.depth,s=Math.sin(r.angle*Math.PI/180)*r.offset*r.depth,o=n.axes.yaxis.show?n.axes.yaxis:n.axes.y2axis,u=!0,a,f=0,l=n.axes.yaxis,c=l._ticks.length,h=0;i=Math.abs(i),s=Math.abs(s);if(n.grid&&!n.shadecomplete){if(this._barPoints.length<2)return;n.grid._ctx.save(),n.grid._ctx.fillStyle="#c0c0c0",n.grid._ctx.globalAlpha=.3;for(var p=c;p>0;p--){var d=l._ticks[p-1];if(d.show===!0&&d.showLabel===!0){var v=Math.round(l.u2p(d.value))+.5;f===0&&(f=Math.abs(Math.round(l.u2p(d.value))+.5-(Math.round(l.u2p(l._ticks[p-2].value))+.5))*2),v-=f/2;var m=v+f,g=g-i,y=g-f,b=m-f,w=n._gridPadding.left,E=e.canvas.height,S=g,x=m;h%2===0&&(n.grid._ctx.beginPath(),n.grid._ctx.fillRect(n._gridPadding.left,v,e.canvas.width,f),n.grid._ctx.closePath(),n.grid!=null&&n.grid.shadowforced===!0&&(n.grid._ctx.beginPath(),n.grid._ctx.moveTo(w,m),n.grid._ctx.lineTo(E,g),n.grid._ctx.lineTo(S,y),n.grid._ctx.lineTo(x,b),n.grid._ctx.fill(),n.grid._ctx.closePath())),h++}}n.grid._ctx.restore()}n.shadecomplete||(n.shadecomplete=!0)}function k(e,t,n){var r=this.renderer.shadowRenderer,i=Math.cos(r.angle*Math.PI/180)*r.offset*r.depth,
s=Math.sin(r.angle*Math.PI/180)*r.offset*r.depth,o=n.axes.yaxis.show?n.axes.yaxis:n.axes.y2axis,u=!0,a,f=0,l=n.axes.xaxis,c=l._ticks.length,h=0;i=Math.abs(i),s=Math.abs(s);if(n.grid&&!n.shadecomplete){if(this._barPoints.length<2)return;n.grid._ctx.save(),n.grid._ctx.fillStyle="#c0c0c0",n.grid._ctx.globalAlpha=.3;for(var p=c;p>0;p--){var d=l._ticks[p-1];if(d.show===!0&&d.showLabel===!0){var v=Math.round(l.u2p(d.value))+.5;f===0&&(f=Math.abs(Math.round(l.u2p(d.value))+.5-(Math.round(l.u2p(l._ticks[p-2].value))+.5))*2),v-=f/2;var m=n.axes.yaxis.show?v+f:v,g=n.axes.yaxis.show?m-i:m+i,y=n.axes.yaxis.show?g-f:g+f,b=n.axes.yaxis.show?m-f:m+f,w=e.canvas.height+n._gridPadding.top,E=w+s,S=E,x=w;h%2===0&&(n.grid._ctx.beginPath(),n.grid._ctx.fillRect(v,n._gridPadding.top,f,e.canvas.height),n.grid._ctx.closePath(),n.grid!=null&&n.grid.shadowforced===!0&&(n.grid._ctx.beginPath(),n.grid._ctx.moveTo(m,w),n.grid._ctx.lineTo(g,E),n.grid._ctx.lineTo(y,S),n.grid._ctx.lineTo(b,x),n.grid._ctx.fill(),n.grid._ctx.closePath())),h++}}n.grid._ctx.restore()}n.shadecomplete||(n.shadecomplete=!0)}function L(){var e=this.axes.yaxis.show?this.axes.yaxis:this.axes.y2axis;if(this.series&&this.series.length>0&&this.axes&&e&&this.grid&&this.grid._ctx){var t=Math.cos(this.series[0].shadowAngle*Math.PI/180)*this.series[0].shadowOffset*this.series[0].shadowDepth,n=Math.sin(this.series[0].shadowAngle*Math.PI/180)*this.series[0].shadowOffset*this.series[0].shadowDepth,r=e._ticks,i=this.axes.yaxis.show?this.grid._left:this.grid._right;t=Math.abs(t),n=Math.abs(n),t=this.axes.yaxis.show?t:0-t,this.grid._ctx.save(),this.grid._ctx.beginPath(),this.grid.gridLineWidth!==null&&(this.grid._ctx.lineWidth=this.grid.gridLineWidth),this.grid.gridLineColor!==null&&(this.grid._ctx.strokeStyle=this.grid.gridLineColor);for(var s=r.length;s>0;s--){var o=Math.round(e.u2p(r[s-1].value))+.5;if(s===r.length||s===1)continue;this.grid._ctx.lineCap="butt",this.grid._ctx.lineJoin="miter",this.grid._ctx.moveTo(i,o),this.grid._ctx.lineTo(i-t,o+n),this.grid._ctx.stroke()}this.grid._ctx.closePath(),this.grid._ctx.restore()}}function A(e,t,n,r,i){var s=i.series,o=i.series[0].renderer.shadowRenderer,u=Math.cos(o.angle*Math.PI/180)*o.offset*o.depth,a=Math.sin(o.angle*Math.PI/180)*o.offset*o.depth;u=Math.abs(u),a=Math.abs(a);for(var f=i.seriesStack.length-1;f>=0;f--){var l=i.seriesStack[f],c=s[l],h=t.x,p=t.y,d=s[l].barWidth<2?1:0,v=2;for(var m=0;m<c._barPoints.length;m++){var g=c._barPoints[m],y=g[0][0]-d,b=g[1][0]-d,w=g[2][0]+u+d,E=g[3][0]+u+d,S=g[0][1]+a-v,x=g[1][1]+v,T=g[2][1]+v,N=g[3][1]+a-v;if(h>y&&h<w&&p>T&&p<S){var C=i.axes.yaxis.show?(h-y)*Math.abs(Math.tan(o.angle*Math.PI/180))+(S-x-a):(E-h)*Math.abs(Math.tan(o.angle*Math.PI/180))+(N-T-a),k=S-p,L=i.axes.yaxis.show?(S-p)*Math.abs(Math.tan(o.angle*Math.PI/180))+(E-u):h+1,A=i.axes.yaxis.show?0:y+u-(S-p)*Math.abs(Math.tan(o.angle*Math.PI/180)),O=h;if(k<C&&O<L&&O>A||d===1&&c.data[m]!==0)return[c.index,m,c.data[m],!0]}}}}function O(e,t,n){var r=this.axes.yaxis;this.axes.yaxis=this.axes.y2axis,this.axes.y2axis=r,this.axes.yaxis.name="yaxis",this.axes.y2axis.name="y2axis"}function M(e,t,n){if($.isArray(this.seriesStack)&&$.isArray(this.previousSeriesStack)&&this.seriesStack.length===this.previousSeriesStack.length)for(var r=0;r<(this.seriesStack.length-1)/2;r++){var i=this.seriesStack[r];this.seriesStack[r]=this.seriesStack[this.seriesStack.length-r-1],this.seriesStack[this.seriesStack.length-r-1]=i,i=this.previousSeriesStack[r],this.previousSeriesStack[r]=this.previousSeriesStack[this.previousSeriesStack.length-r-1],this.previousSeriesStack[this.previousSeriesStack.length-r-1]=i}}function _(e){if(this.show===!0&&$.isArray(this._series))for(var t=0;t<this._series.length;t++)this._series[t]._stack=!0}function D(e){e._stack===!0&&(e._stack=!1)}function P(e){if(this.show===!0&&$.isArray(this._series))for(var t=0;t<this._series.length;t++)this._series[t].forcedstack=!0,this._series[t]._stack=!1}function H(e,t,n){if(!n==0&&$.isArray(n.seriesColors)){var r=n.seriesColors.length>n.series.length?n.series.length:n.seriesColors.length;n.series.length===1&&n.series[0].label===""&&(r=n.seriesColors.length>t[0].length?t[0].length:n.seriesColors.length);var i=0,s;for(var o=0;o<r/2;o++)i=r-1-o,s=n.seriesColors[o],n.seriesColors[o]=n.seriesColors[i],n.seriesColors[i]=s}else if(!n==0&&$.isArray(this.seriesColors)){var r=this.seriesColors.length>n.series.length?n.series.length:this.seriesColors.length;n.series.length===1&&n.series[0].label===""&&(r=this.seriesColors.length>t[0].length?t[0].length:this.seriesColors.length);var i=0,s;n.seriesColors=[];for(var o=0;o<r;o++)i=r-1-o,n.seriesColors[o]=this.seriesColors[i]}}function B(e){var t=[];return t=e.split(" "),"#"+I(t[0])+I(t[1])+I(t[2])}function j(e,t){var n=this._plotData,r=[];for(i=0;i<n.length;i++)n[i][1]!=0&&r.push(n[i]);t.data=r}function F(e){var t=[],n=[];t=e.split(",");for(var r=0;r<t.length;r++){var i=[];i=t[r].split(" "),n.push("#"+I(i[0])+I(i[1])+I(i[2]))}return n}function I(e){var t=parseInt(e).toString(16);return t.length==1?"0"+t:t}var t=[],n="";return SiebelJS.Extend(e,SiebelAppFacade.FieldPW),e.prototype.SetValue=function(e,t){r.call(this)},e.prototype.Init=function(){var e=$(this.GetEl());e.empty();if(SiebelApp.S_App&&SiebelApp.S_App.GetActiveView()&&n!==SiebelApp.S_App.GetActiveView().GetName()){n=SiebelApp.S_App.GetActiveView().GetName();for(var r=0;r<t.length;r++)t[r].destroy()}SiebelAppFacade.ChartBuilderPW.superclass.Init.apply(this)},e.prototype.BindEvents=function(){var e=$(this.GetEl()),t=this.Get("XAxisTitle"),n=this.Get("YAxisTitle"),r=this.Get("ZAxisTitle"),i=!this.Get("XAxisDisplayFormat")||this.Get("XAxisDisplayFormat")===""?"":"%",s=this.Get("XAxisData")?$.parseJSON(this.Get("XAxisData")):[],o=this.Get("ZAxisData")?$.parseJSON(this.Get("ZAxisData")):[];e.bind("jqplotClick",{ctx:this},function(e,t,n,r,i){if(i.grid.shadowforced===!0){var s=A(e,t,n,r,i);if($.isArray(s)){if(s.length>3&&$.isArray(s[2])&&s[2][1]===0)return;e.type="jqplotDataClick",$(this
).trigger(e,s)}}}),e.bind("jqplotMouseMove",{ctx:this},function(e,t,n,r,i){if(i.grid.shadowforced===!0){var s=A(e,t,n,r,i);if($.isArray(s)){if(s.length>3&&$.isArray(s[2])&&s[2][1]===0)return;e.type="jqplotDataMouseOver",$(this).trigger(e,s)}}}),e.bind("jqplotDataClick",{ctx:this},function(e,t,n,r,i){var s=e.data.ctx.Get("Type"),u=!1,a=e.data.ctx.plot;u=e.data.ctx.Get("InvertXZ?");if(a.grid.shadowforced===!0&&!i)return;if(s.search("2dScatter")!=-1){var f="";o&&t<o.length&&(f=o[t].label),u?e.data.ctx.ExecuteMethod("ScatterDrillDown",n,t,r,f):e.data.ctx.ExecuteMethod("ScatterDrillDown",t,n,r,f)}else s.search("Combo")!=-1?$(this).attr("DuplicateEvent")!=="true"?($(this).attr("DuplicateEvent","true"),e.data.ctx.ExecuteMethod("BarDrillDown",0,n,r)):$(this).attr("DuplicateEvent",""):u?e.data.ctx.ExecuteMethod("BarDrillDown",n,t,r):e.data.ctx.ExecuteMethod("BarDrillDown",t,n,r)}),e.bind("jqplotDataMouseOver",{ctx:this},function(e,u,a,f,l){var c=e.data.ctx.plot;if(c.grid.shadowforced===!0&&!l){c.series[u].highlightMouseOver=!1;return}$(this).children(".jqplot-event-canvas").length===1&&!$($(this).children(".jqplot-event-canvas")[0]).hasClass("siebui-event-canvas")&&$($(this).children(".jqplot-event-canvas")[0]).addClass("siebui-event-canvas");var h="";y(u,a,f,e),t!=null&&t!=""&&s!=null&&e.data.ctx.Get("Type")==="2dScatter"&&f!=null&&f.length>0?h=h+t+" : "+f[0]+i+"\n":t!=null&&t!=""&&s!=null&&s.length>a&&(h=h+t+" : "+s[a]+i+"\n"),e.data.ctx!==null&&e.data.ctx!=="undefined"&&e.data.ctx.Get("Type")==="Combo"&&(n=u===0?e.data.ctx.Get("YAxisTitle"):e.data.ctx.Get("Y2AxisTitle"),c.series[u].highlightMouseOver=!1),e.data.ctx!==null&&e.data.ctx!=="undefined"&&e.data.ctx.Get("MultiDataPoint")==="1"&&(n=e.data.ctx.plot&&e.data.ctx.plot.series[u].label?e.data.ctx.plot.series[u].label:n);if(n!=null&&n!=""&&f!=null&&f.length>0){var p=f[1];e.data.ctx.Get("Type").search("dHorizBar")!=-1&&(p=f[0]);if(e.data.ctx.Get("YAxisDataType")!==null||e.data.ctx.Get("Y2AxisDataType")!==null){var d=SiebelApp.S_App.LocaleObject.GetCurrency(SiebelApp.S_App.LocaleObject.GetFuncCurrCode()),v,m;e.data.ctx.Get("YAxisDataType")==="Currency"||e.data.ctx.Get("Y2AxisDataType")==="Currency"?e.data.ctx.Get("Type")==="Combo"&&u===0?m=e.data.ctx.Get("YAxisDataType")==="Currency"?new SiebelApp.S_App.DatumCurrencyObject:new SiebelApp.S_App.DatumNumberObject:e.data.ctx.Get("Type")==="Combo"&&u===1?m=e.data.ctx.Get("Y2AxisDataType")==="Currency"?new SiebelApp.S_App.DatumCurrencyObject:new SiebelApp.S_App.DatumNumberObject:m=new SiebelApp.S_App.DatumCurrencyObject:e.data.ctx.Get("Type")==="Combo"&&u===0?m=e.data.ctx.Get("YAxisDataType")==="Currency"?new SiebelApp.S_App.DatumCurrencyObject:new SiebelApp.S_App.DatumNumberObject:e.data.ctx.Get("Type")==="Combo"&&u===1?m=e.data.ctx.Get("Y2AxisDataType")==="Currency"?new SiebelApp.S_App.DatumCurrencyObject:new SiebelApp.S_App.DatumNumberObject:m=new SiebelApp.S_App.DatumNumberObject,m.SetAsString(f[1]),e.data.ctx.Get("Type").search("dHorizBar")!=-1&&m.SetAsString(f[0]),d!==null&&typeof d!="undefined"&&(v=d.m_sSymbol,m.m_sDispCurrSymbol=v,m.m_bNull=!1),p=m.GetAsFormattedString("");if(e.data.ctx!==null&&e.data.ctx!=="undefined"&&e.data.ctx.Get("Type")==="2dPie"){if(e.data.ctx.plot._sumy){var g=" out of ",b=new SiebelApp.S_App.DatumNumberObject,w=""+f[1]*100/e.data.ctx.plot._sumy;m.SetAsString(""+e.data.ctx.plot._sumy),g+=m.GetAsFormattedString(""),b.SetAsString(""+w),w=b.GetAsFormattedString(""),w+="%",p=p+g+"\n                    "+w}}else if(e.data.ctx!==null&&e.data.ctx!=="undefined"&&e.data.ctx.Get("Type").search("dStackedBar")!=-1){var E=0;if(e.data.ctx.plot._plotData&&e.data.ctx.plot._plotData.length>0){var S=0,x=0;for(var T=0;T<e.data.ctx.plot._plotData.length;T++){var N=e.data.ctx.plot._plotData[T][a][1];S<N&&(S=N),x>N&&(x=N)}E=x<0&&S>=0?S+x:S-x}if(E){var g=" out of ",b=new SiebelApp.S_App.DatumNumberObject,w=""+f[1]*100/E;m.SetAsString(""+E),g+=m.GetAsFormattedString(""),b.SetAsString(""+w),w=b.GetAsFormattedString(""),w+="%",p=p+g+"\n                  "+w}}d=null}h=h+n+" : "+p+"\n"}r!=null&&r!=""&&o!=null&&o.length>u&&(h=h+r+" : "+o[u].label),h!==""&&$(this).attr("title",h)}),e.bind("jqplotDataUnhighlight",function(e){$(this).attr("title",""),$(this).children(".jqplot-event-canvas").length===1&&$($(this).children(".jqplot-event-canvas")[0]).hasClass("siebui-event-canvas")&&$($(this).children(".jqplot-event-canvas")[0]).removeClass("siebui-event-canvas")})},$.jqplot.CanvasAxisBIULabelRenderer=function(e){$.extend(!0,this,new $.jqplot.CanvasAxisLabelRenderer(e)),this.fontStyle==="italic"&&(this._textRenderer.fontStyle="italic"),$.jqplot.CanvasAxisBIULabelRenderer.prototype.draw=this.draw,$.jqplot.CanvasAxisBIULabelRenderer.prototype.pack=this.pack,this.draw=function(e,t){return this._textRenderer.fontWeight==="bold"&&(this._textRenderer.fontSize="bold "+this._textRenderer.fontSize),this._textRenderer.fontStyle==="italic"&&(this._textRenderer.fontSize="italic "+this._textRenderer.fontSize),$.jqplot.CanvasAxisBIULabelRenderer.prototype.draw.call(this,e,t)},this.pack=function(){$.jqplot.CanvasAxisBIULabelRenderer.prototype.pack.call(this);if(this.fontEffect==="Underline"||this.fontEffect==="StrikeThroughUnderline"||this.fontEffect==="StrikeThrough"){var e=this._elem.get(0).getContext("2d"),t=this._textRenderer.angle===0?0:this._elem.width()/2,n=this._textRenderer.angle===0?this._elem.height()/2:0,r=this._textRenderer.angle===0?this._elem.width():this._elem.width()/2,i=this._textRenderer.angle===0?this._elem.height()/2:this._elem.height();e.save();if(this.fontEffect==="Underline"||this.fontEffect==="StrikeThroughUnderline")this.fontEffect==="StrikeThroughUnderline"&&(e.beginPath(),e.strokeStyle=this._textRenderer.fillStyle,e.moveTo(t,n),e.lineTo(r,i),e.stroke(),e.closePath()),t=this._textRenderer.angle===0?0:this._elem.width()-1,n=this._textRenderer.angle===0?this._elem.height()-1:0,r=this._textRenderer.angle===0?this._elem.width():this._elem.width()-1,i=this._textRenderer.angle===0?this._elem.height
()-1:this._elem.height();e.beginPath(),e.strokeStyle=this._textRenderer.fillStyle,e.moveTo(t,n),e.lineTo(r,i),e.stroke(),e.closePath(),e.restore()}}},$.jqplot.CanvasAxisBIUTickRenderer=function(e){$.extend(!0,this,new $.jqplot.CanvasAxisTickRenderer(e)),this.fontStyle==="italic"&&(this._textRenderer.fontStyle="italic"),$.jqplot.CanvasAxisBIUTickRenderer.prototype.draw=this.draw,$.jqplot.CanvasAxisBIUTickRenderer.prototype.pack=this.pack,this.draw=function(e,t){this._textRenderer.fontWeight==="bold"&&(this._textRenderer.fontSize="bold "+this._textRenderer.fontSize),this._textRenderer.fontStyle==="italic"&&(this._textRenderer.fontSize="italic "+this._textRenderer.fontSize);if(this.axis==="xaxis"&&this.angle===0){var n=0,r=75,i;t&&t._gridPadding&&t._gridPadding.left&&(r=(t._width-t._gridPadding.left-10)/(t.axes.xaxis.ticks.length===0?t.axes.xaxis.numberTicks:t.axes.xaxis.ticks.length)),t.xaxisof0=t.xaxisof0&&t.xaxisof0>0?t.xaxisof0-r:0,t.xaxisof1=t.xaxisof1&&t.xaxisof1>0?t.xaxisof1-r:0,t.xaxisof2=t.xaxisof2&&t.xaxisof2>0?t.xaxisof2-r:0,t.xaxisof3=t.xaxisof3&&t.xaxisof3>0?t.xaxisof3-r:0,t.xaxisof0<=0?(n=0,t.xaxisof0=0):t.xaxisof1<=0?(this._textRenderer.height=this._textRenderer.height*2*1.5,n=1,t.xaxisof1=0):t.xaxisof2<=0?(this._textRenderer.height=this._textRenderer.height*3*1.5,n=2,t.xaxisof2=0):t.xaxisof3<=0&&(this._textRenderer.height=this._textRenderer.height*4*1.5,n=3,t.xaxisof3=0),i=$.jqplot.CanvasAxisBIUTickRenderer.prototype.draw.call(this,e,t),this.tickwidth=r,this.linenum=n;if(i&&i.length>0&&i[0].width>r)switch(n){default:case 0:t.xaxisof0+=i[0].width;break;case 1:t.xaxisof1+=i[0].width;break;case 2:t.xaxisof2+=i[0].width;break;case 3:t.xaxisof3+=i[0].width}return i}return $.jqplot.CanvasAxisBIUTickRenderer.prototype.draw.call(this,e,t)},this.pack=function(){if(this.angle===45){var e=this.getWidth()/2,t=-this._textRenderer.height*Math.sin(this._textRenderer.angle)/2,n=this._elem.css("left").replace("px","");if(this.labelPosition==="auto"||this.labelPosition==="start"){n=parseInt(n)+this.getWidth()/2;if(this._elem.prev(".jqplot-xaxis-tick").length>0){var r=this._elem.prev(".jqplot-xaxis-tick").css("left").replace("px","");if(this._elem.prev(".jqplot-xaxis-tick").prev(".jqplot-xaxis-tick").length===0){var i=this._elem.prev(".jqplot-xaxis-tick").css("left").replace("px","");n-=Math.abs(parseInt(n)-parseInt(r))/2,i=parseInt(i)-(parseInt(n)-parseInt(r)),i+="px",this._elem.prev(".jqplot-xaxis-tick").css("left",i)}else n-=Math.abs(parseInt(n)-parseInt(r))/3}}else this.labelPosition==="middle"&&(n=parseInt(n)+this.getWidth()/2);n+="px",this._elem.css("left",n)}else if(this.angle===0&&this.labelPosition==="middle"&&this.getWidth()>this.tickwidth){var n=this._elem.css("left").replace("px","");n=parseInt(n)+(this.getWidth()/2-this.tickwidth/2),n+="px",this._elem.css("left",n)}$.jqplot.CanvasAxisBIUTickRenderer.prototype.pack.call(this);if(this.fontEffect==="Underline"||this.fontEffect==="StrikeThroughUnderline"||this.fontEffect==="StrikeThrough"){var s=this._elem.get(0).getContext("2d"),o=this._textRenderer.angle===0?0:this._elem.width()/2,u=this._textRenderer.angle===0?this._elem.height()/2:0,a=this._textRenderer.angle===0?this._elem.width():this._elem.width()/2,f=this._textRenderer.angle===0?this._elem.height()/2:this._elem.height();this.axis==="xaxis"&&this.angle===0&&(u=this._elem.height()*.72-.5*(this._elem.height()/((this.linenum+1)*1.5))/2,f=u),this.angle===45?(o=this._textRenderer.height/2*Math.cos(this._textRenderer.angle),u=1.5*this._textRenderer.height/2*Math.sin(this._textRenderer.angle),a=this._elem.width()-this._textRenderer.height/2*Math.cos(this._textRenderer.angle),f=this._elem.height()-this._textRenderer.height/3*Math.sin(this._textRenderer.angle)):this.angle===135&&(o=this._elem.width()-this._textRenderer.height/2*Math.abs(Math.cos(this._textRenderer.angle)),u=1.5*this._textRenderer.height/2*Math.abs(Math.sin(this._textRenderer.angle)),a=this._textRenderer.height/2*Math.abs(Math.cos(this._textRenderer.angle)),f=this._elem.height()-this._textRenderer.height/3*Math.abs(Math.sin(this._textRenderer.angle))),s.save();if(this.fontEffect==="Underline"||this.fontEffect==="StrikeThroughUnderline")this.fontEffect==="StrikeThroughUnderline"&&(s.beginPath(),s.strokeStyle=this._textRenderer.fillStyle,s.moveTo(o,u),s.lineTo(a,f),s.stroke(),s.closePath()),o=0,u=this._textRenderer.angle===0?this._elem.height()-1:0,a=this._textRenderer.angle===0?this._elem.width():0,f=this._textRenderer.angle===0?this._elem.height()-1:this._elem.height(),this.axis==="xaxis"&&this.angle===0&&(u=this._elem.height()*.72+4,f=u),this.angle===45?(o=0-this._textRenderer.height*Math.sin(this._textRenderer.angle),u=0,a=this._elem.width()-this._textRenderer.height*Math.sin(this._textRenderer.angle),f=this._elem.height()):this.angle===135&&(o=this._elem.width()-this._textRenderer.height*Math.sin(this._textRenderer.angle),u=0,a=0,f=this._elem.height()-this._textRenderer.height*Math.sin(this._textRenderer.angle));s.beginPath(),s.strokeStyle=this._textRenderer.fillStyle,s.moveTo(o,u),s.lineTo(a,f),s.stroke(),s.closePath(),s.restore()}}},$.jqplot.CategoryAxisRenderer3D=function(e){this.baserenderer=new $.jqplot.CategoryAxisRenderer},$.jqplot.CategoryAxisRenderer3D.prototype.init=function(e){this.renderer.baserenderer.init.call(this,e)},$.jqplot.CategoryAxisRenderer3D.prototype.createTicks=function(){this.renderer.baserenderer.createTicks.call(this)},$.jqplot.CategoryAxisRenderer3D.prototype.draw=function(e,t){this.name==="xaxis"&&t.axes.yaxis!==!1&&t.axes.yaxis.show===!0?(t.target.append(t.axes.yaxis.draw(e,t)),t.axes.yaxis.Initialized=!0):this.name==="xaxis"&&t.axes.y2axis!==!1&&t.axes.y2axis.show===!0&&(t.target.append(t.axes.y2axis.draw(e,t)),t.axes.y2axis.Initialized=!0);if(this.show!==!0||this.name!=="yaxis"&&this.name!=="y2axis"||this.Initialized!==!0){var n=this.renderer.baserenderer.draw.call(this,e,t);if(this.show&&t.series&&t.series.length>0&&t.series[0].renderer){var r=t.series[0].renderer.shadowRenderer,i=Math
.cos(r.angle*Math.PI/180)*r.offset*r.depth,s=Math.sin(r.angle*Math.PI/180)*r.offset*r.depth,o=0,u=0;i=Math.abs(i),s=Math.abs(s),t.grid!=null&&t.grid.shadowforced!=1&&(i=0,s=0);for(var a=0;a<this._ticks.length;a++){var f=this._ticks[a];f.show&&f.showLabel&&(this.name=="xaxis"||this.name=="x2axis"?o=f._elem.context.height:this.name=="yaxis"&&(o=f._elem.context.width),o>u&&(u=o))}this.name=="xaxis"||this.name=="x2axis"?(t._gridPadding.bottom=s+u+10,this._label&&this._label._elem&&(t._gridPadding.bottom+=this._label._elem.context.height),this.yshadowoffset=s,t.title!=null&&t.title._elem!=null&&(t._gridPadding.top=t.title._elem.context.clientHeight+10)):this.name=="yaxis"&&(t._gridPadding.left=s+u+10,this._label&&this._label._elem&&(t._gridPadding.left+=this._label._elem.context.width))}return n}return this._elem},$.jqplot.CategoryAxisRenderer3D.prototype.set=function(){this.renderer.baserenderer.set.call(this)},$.jqplot.CategoryAxisRenderer3D.prototype.pack=function(e,t){if(this.show&&this.name==="xaxis"&&SiebelApp.S_App.GetDirection()){for(var n=0;n<this._ticks.length;n++)!this._ticks[n]._elem==0&&this._ticks[n]._elem.attr("dir","ltr");this._label.show&&SiebelApp.S_App.GetDirection()&&this._label._elem.attr("dir","ltr")}this.renderer.baserenderer.pack.call(this,e,t)},$.jqplot.GridAxisRenderer3D=function(){this.baserenderer=new $.jqplot.LinearAxisRenderer},$.jqplot.GridAxisRenderer3D.prototype.init=function(e){var t=this.show?!0:!1;this.renderer.baserenderer.init.call(this,e),t&&this._dataBounds!=null&&this._dataBounds.min>=0&&(this.padMin=1,this.forceTickAt0=!0)},$.jqplot.GridAxisRenderer3D.prototype.draw=function(e,t){this.name==="xaxis"&&t.axes.yaxis!==!1&&t.axes.yaxis.show===!0?(t.target.append(t.axes.yaxis.draw(e,t)),t.axes.yaxis.Initialized=!0):this.name==="xaxis"&&t.axes.y2axis!==!1&&t.axes.y2axis.show===!0&&(t.target.append(t.axes.y2axis.draw(e,t)),t.axes.y2axis.Initialized=!0);if(this.show!==!0||this.name!=="yaxis"&&this.name!=="y2axis"||this.Initialized!==!0){var n=this.renderer.baserenderer.draw.call(this,e,t);if(this.show&&t.series&&t.series.length>0&&t.series[0].renderer){var r=t.series[0].renderer.shadowRenderer,i=Math.cos(r.angle*Math.PI/180)*r.offset*r.depth,s=Math.sin(r.angle*Math.PI/180)*r.offset*r.depth,o=0,u=0,a=t.options.axes.xaxis,f=t.options.series,l=2,c=4;i=Math.abs(i),s=Math.abs(s);for(var h=0;h<this._ticks.length;h++){var p=this._ticks[h];!p._breakTick&&p.show&&p.showLabel&&(!p.isMinorTick||this.showMinorTicks)&&(this.name=="xaxis"||this.name=="x2axis"?o=p._elem.context.height:o=p._elem.context.width,o>u&&(u=o))}t.grid!=null&&t.grid.shadowforced!=1&&(i=0,s=0);for(var h=0;h<t.series.length;h++){if(this.show!==!0||typeof a.ticks=="undefined"||this.name!="yaxis"&&this.name!="y2axis")break;var d=this._label._elem?this._label._elem.context.width:0;l=2,c=4,t.series[h].barWidth=(t._width-(a.ticks.length*l+f.length*c)-(u+d+10))/(a.ticks.length*f.length+.6);if(t.grid!=null&&t.grid.shadowforced===!0){var v=Math.abs(Math.cos(r.angle*Math.PI/180)*r.offset*(t.series[h].barWidth*3/5));t.series[h].barWidth=t.series[h].barWidth-c-v/f.length}else t.series[h].barWidth=t.series[h].barWidth-c;t.series[h].barWidth<2&&(t.series[h].barWidth<0?(l=0,c=0,t.series[h].barWidth=1):(l=0,c=1,t.series[h].barWidth=(t._width-(a.ticks.length*l+f.length*c)-(u+d+10))/(a.ticks.length*f.length+.6),t.series[h].barWidth=t.series[h].barWidth-c,t.series[h].barWidth<0&&(l=0,c=0,t.series[h].barWidth=1))),t.grid!=null&&t.grid.shadowforced===!0&&(t.series[h].renderer.shadowRenderer.depth=t.series[h].barWidth*3/5,t.series[h].shadowDepth=t.series[h].barWidth*3/5),t.series[h].barWidth>=120?(t.series[h].barWidth=120,t.grid!=null&&t.grid.shadowforced===!0&&(t.series[h].renderer.shadowRenderer.depth=t.series[h].barWidth*3/5,t.series[h].shadowDepth=t.series[h].barWidth*3/5)):(t.series[h].barMargin=l,t.series[h].barPadding=c)}t.grid!=null&&t.grid.shadowforced===!0&&(i=Math.cos(r.angle*Math.PI/180)*r.offset*r.depth,s=Math.sin(r.angle*Math.PI/180)*r.offset*r.depth,i=Math.abs(i),s=Math.abs(s));if(this.name=="yaxis")t._gridPadding.left=i+u+10,this._label&&this._label._elem&&(t._gridPadding.left+=this._label._elem.context.width),this.xshadowoffset=i;else if(this.name=="y2axis")t._gridPadding.right=i+u+10,SiebelApp.S_App.GetDirection()||(t._gridPadding.right+=5),this._label&&this._label._elem&&(t._gridPadding.right+=this._label._elem.context.width),this.xshadowoffset=i;else if(this.name=="xaxis"||this.name=="x2axis")t._gridPadding.bottom=s+u+5,this._label&&this._label._elem&&(t._gridPadding.bottom+=this._label._elem.context.height),this.yshadowoffset=s}return n}return this._elem},$.jqplot.GridAxisRenderer3D.prototype.reset=function(){return this.renderer.baserenderer.reset.call(this)},$.jqplot.GridAxisRenderer3D.prototype.set=function(){return this.renderer.baserenderer.set.call(this)},$.jqplot.GridAxisRenderer3D.prototype.createTicks=function(e){if(this.show){!this.max==0&&this._dataBounds.max>this.max&&(this.max=this._dataBounds.max),this._dataBounds.max<0&&(this.max=0);if(!this.min==0&&this._dataBounds.min>0)for(var t=0;t<e.series.length;t++)e.series[t].fillToZero=!1;!this.min==0&&this._dataBounds.min<this.min&&(this.min=this._dataBounds.min),this.siebDataType==="Number"&&this.min===null&&this.max===null&&(this.forceTickAt0&&!this.numberTicks?(this.numberTicks=10,this.max=this._dataBounds.max+this._dataBounds.max%10>=10?this._dataBounds.max+this._dataBounds.max%10:10):this.forceTickAt0&&(this.max=this._dataBounds.max+this._dataBounds.max%this.numberTicks>=this.numberTicks?this._dataBounds.max+this._dataBounds.max%this.numberTicks:this.numberTicks))}var n=this.renderer.baserenderer.createTicks.call(this,e);if(this.siebDataType){var r=SiebelApp.S_App.LocaleObject.GetCurrency(SiebelApp.S_App.LocaleObject.GetFuncCurrCode()),i="";r!=null&&(i=r.m_sSymbol);for(var t=0;t<this._ticks.length;t++){var s,o=this.siebFormat,u;this.siebDataType==="Currency"?s=new SiebelApp.S_App.DatumCurrencyObject:s=new SiebelApp.S_App.DatumNumberObject,
s.SetAsString(this._ticks[t].value),i!=""&&(s.m_sDispCurrSymbol=i),s.m_bNull=!1;if(o===null||typeof o=="undefined")o="";u=s.GetAsFormattedString(o),this._ticks[t].actvalue=this._ticks[t].value,u!==""&&(this._ticks[t].value=u),this._ticks[t].formatString="%s",s=null}r=null}return n},$.jqplot.GridAxisRenderer3D.prototype.resetTickValues=function(e){return this.renderer.baserenderer.resetTickValues.call(this,e)},$.jqplot.GridAxisRenderer3D.prototype.pack=function(e,t){if(this.name==="yaxis"&&!this.xshadowoffset!=1)e.left-=this.xshadowoffset;else if(this.name==="y2axis"&&!this.xshadowoffset!=1)e.right-=this.xshadowoffset;else if(!this.yshadowoffset!=1&&this.name==="xaxis"||this.name==="x2axis")e.bottom-=this.yshadowoffset;if(this.show===!0&&this.siebDataType){for(var n=0;n<this._ticks.length;n++)this.siebDataType&&(!this._ticks[n].actvalue!=1||this._ticks[n].actvalue==0)&&(this._ticks[n].value=this._ticks[n].actvalue),SiebelApp.S_App.GetDirection()&&this._ticks[n]._elem.attr("dir","ltr");this._label.show&&SiebelApp.S_App.GetDirection()&&this._label._elem.attr("dir","ltr")}this.renderer.baserenderer.pack.call(this,e,t)},e}(),SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_CTRL_CHARTCONTROL"),SiebelAppFacade.ChartBuilderPW,function(e){var t=e.GetApplet().GetPModel();return t.Get("EnableClientChart")==="TRUE"&&t.Get("CustomFormat")==="TRUE"&&(t.Get("Type")==="2dPie"||t.Get("Type")==="2dLine"||t.Get("Type")==="2dSpline"||t.Get("Type")==="2dScatter"||t.Get("Type")==="Combo"||t.Get("Type").search("Bar")!=-1&&t.Get("Type")!="3dHorizBar")}),SiebelAppFacade.ChartBuilderPW})),typeof SiebelAppFacade.ChartImagePW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.ChartImagePW"),define("siebel/ChartImagePW",["siebel/FieldPW"],function(){return SiebelAppFacade.ChartImagePW=function(){function e(){SiebelAppFacade.ChartImagePW.superclass.constructor.apply(this,arguments)}return SiebelJS.Extend(e,SiebelAppFacade.FieldPW),e.prototype.SetValue=function(e,t){var n=this.GetEl();n.parent().hasClass("siebui-charts-container")||n.parent().addClass("siebui-charts-container"),n.html(e||"");for(var r=0;r<this.GetEl().parents("table").length;r++)if($(this.GetEl().parents("table")[r]).find(".siebui-funnel-chart").length===1){$($(this.GetEl().parents("table")[r]).find(".siebui-funnel-chart")[0]).hide();break}},e}(),SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_CTRL_CHARTCONTROL"),SiebelAppFacade.ChartImagePW,function(e){var t=e.GetApplet().GetPModel();return t.Get("EnableClientChart")!=="TRUE"}),SiebelAppFacade.ChartImagePW})),typeof SiebelAppFacade.ComboButtonPW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.ComboButtonPW"),define("siebel/combobuttonpw",["siebel/dropdownpw"],function(){var e;return SiebelAppFacade.ComboButtonPW=function(){function r(){SiebelAppFacade.ComboButtonPW.superclass.constructor.apply(this,arguments)}var e=SiebelJS.Dependency("SiebelApp.Constants"),t=SiebelJS.Dependency("SiebelAppFacade.HTMLTemplateManager"),n="Button";return SiebelJS.Extend(r,SiebelAppFacade.DropDownPW),r.prototype.ShowUI=function(){var e=this.Get("ChartTypeLov"),r=$.parseJSON(e),i=!0,s=SiebelApp.S_App.IsAutoOn(),o=s==="true"?' rn="3D_Ctrl" un="3D" ot="Button"':" ",u,a,f="",l="",c="",h=!0,p=this.Get("Type"),d="";this.GetEl()&&this.GetEl().attr("name")&&this.SetProperty("ChartTypePrefix",this.GetEl().attr("name"));for(var v=0,m=r.length;v<m;v++){if(r[v][1]==="3dSpline"||r[v][1]==="3dLine"||r[v][1]==="3dPie"||r[v][1]==="3dHorizBar")continue;p===r[v][1]?h=!0:h=!1,this.GetEl()&&this.GetEl().attr("name")?d=this.GetEl().attr("name")+r[v][1]:d=r[v][1],a=t.GenerateMarkup({type:n,id:d,className:(h===!0?" ":"siebui-chart-icon-shadow ")+this.Get(r[v][1]),value:this.Get(r[v][1])==="siebui-chart-icon-spline"?r[v][0]:"",attrs:'data-display="'+r[v][0]+'" tabindex="'+"0"+'" title="'+r[v][0]+'" '+'aria-label="'+r[v][0]+'" '+o+(i===!0?" ":'disabled="disabled"')+(h===!0?" chartselected='true'":"")}),r[v][1].charAt(0)==="2"?f+=a:l+=a}c="<div style='display: inline-block;'><span class='mceGridLabel siebui-label mceLabel'>2D:</span>"+f+"</div><div style='display: inline-block;'><span class='mceGridLabel siebui-label mceLabel'>3D:</span>"+l+"</div>",this.GetEl()&&this.GetEl().replaceWith(c),SiebelAppFacade.ComboButtonPW.superclass.ShowUI.call(this)},r.prototype.BindEvents=function(t){var n=this.Get("ChartTypeLov"),r=$.parseJSON(n);for(var i=0,s=r.length;i<s;i++){var o="",u=r[i][0];this.Get("ChartTypePrefix")?o="#"+this.Get("ChartTypePrefix")+r[i][1]:o="#"+r[i][1],$(o).bind("click",{ctx:this},function(t,n){return function(){n.ExecuteMethod("SetActiveControl",n.control),n.ExecuteMethod("LeaveField",n.control,t,!0),$("html").find("[chartselected='true']").length===1&&!$("html").find("[chartselected='true']").hasClass("siebui-chart-icon-shadow")&&($("html").find("[chartselected='true']").addClass("siebui-chart-icon-shadow"),$("html").find("[chartselected='true']").removeAttr("chartselected")),$(this).attr("chartselected","true"),$(this).removeClass("siebui-chart-icon-shadow"),n.OnControlEvent(e.get("PHYEVENT_CONTROL_BLUR"),n.control,t);var r=n.Get("GetControls").Go;if(!r){var i=n.Get("GetControls");for(var s in i)if(i.hasOwnProperty(s)&&i[s].GetMethodName&&i[s].GetMethodName()==="GetChart"){r=i[s];break}}var o=r.GetMethodPropSet(),u=o.Clone(),a={};n.OnControlEvent(e.get("PHYEVENT_INVOKE_CONTROL"),r.GetMethodName(),u,a)}}(u,this))}SiebelAppFacade.ComboButtonPW.superclass.BindEvents.call(this)},r}(),SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_CTRL_COMBOBOX"),SiebelAppFacade.ComboButtonPW,function(t){return e=t.GetApplet().GetPModel(),t&&t.GetMethodName()==="PickChartType"&&e.Get("ShowAsButton")==="TRUE"}),SiebelAppFacade.ComboButtonPW})),typeof SiebelAppFacade.RoutePW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.RoutePW"),define("siebel/RoutePW",["siebel/FieldPW"],function(){return SiebelAppFacade.RoutePW=function(){function s(){i===0&&(i=1,require([r+"//elocation.oracle.com/elocation/jslib/oracleelocation.js",r+"//elocation.oracle.com/mapviewer/fsmc/jslib/oraclemaps.js"
],function(){i=2,typeof window.MVMapView=="undefined"&&(i=3,SiebelJS.Log("Error while loading Oracle ELocation API... "))}))}function o(){SiebelAppFacade.RoutePW.superclass.constructor.apply(this,arguments);var e,t,n;this.SetMapView=function(t){e=t},this.GetMapView=function(){return e},this.SetContainerId=function(e){t=e},this.GetContainerId=function(){return t},this.SetDestAddressField=function(e){n=e},this.GetDestAddressField=function(){return n},setTimeout(s,0)}function u(e){var t=r+"//elocation.oracle.com/mapviewer",n=this;return typeof window.MVMapView=="undefined"?(SiebelJS.Log("Unable to load the Oracle Spatial Map APIs. Please revisit the view"),!1):(n.SetMapView(new MVMapView(document.getElementById(e),t)),n.GetMapView().addBaseMapLayer(new MVBaseMap("elocation_mercator.world_map"),a(this)),!0)}function a(){var e=20,t=0,n=1,r=arguments[0];r||(r=this);var i=MVSdoGeometry.createPoint(t,e,8307);r.GetMapView().setCenter(i),r.GetMapView().setZoomLevel(n),r.GetMapView().addNavigationPanel("EAST"),r.GetMapView().setLoadingIconVisible()}function f(e){var t=/^\s*lon lat:\s*-?((\d\d*\.\d*)|(\d\d*)|(\.\d\d*))\s*-?((\d\d*\.\d*)|(\d\d*)|(\.\d\d*))\s*$/;if(e&&t.test(e)){var n=e.indexOf("lon lat:");return e=e.substr(n+"lon/lat:".length).replace(/^\s+|\s+$/,""),n=e.indexOf(" "),{lon:e.substr(0,n),lat:e.substr(n)}}return e}function l(e,t){}function c(e){return e?e.replace("'","\\'"):e}function h(e,t){var n="<font class=OraHeaderSubSub>";n+=e.streetLine&&e.streetLine!="null"&&e.streetLine.length>0?e.streetLine+"<BR>"+e.localityLine:e.localityLine,e.country!=undefined&&e.country!="undefined"&&(n+=", "+e.country);var r=c((e.streetLine&&e.streetLine!="null"&&e.streetLine.length>0?e.streetLine+", "+e.localityLine:e.localityLine)+", "+e.country);return n+="</font>",n}function p(e){function o(n){var r=t.GetContainerId()+"_status";i.html(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_LOCATION_SERVICE_ERROR")),v.call(t,e)}function a(n){m.call(t,n,e)}var t=this,n=t.GetContainerId(),r=$("#"+n+"_dialog"),i=$("#"+n+"_status");r.dialog("open"),i.html(" ");if(!u.call(t,n))return;if(navigator.geolocation)navigator.geolocation.getCurrentPosition(a,o,{timeout:3e4});else{var s=t.GetContainerId()+"_status";i.html(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_LOCATION_SERVICE_ERROR")),v.call(t,e)}}function d(e){var t=e.geom;e.accuracy<3?this.GetMapView().setCenterAndZoomLevel(t,10):e.accuracy==3?this.GetMapView().setCenterAndZoomLevel(t,7):e.accuracy==4?this.GetMapView().setCenterAndZoomLevel(t,6):e.accuracy==5?this.GetMapView().setCenterAndZoomLevel(t,5):this.GetMapView().setCenterAndZoomLevel(t,4)}function v(t){var r=this;a.call(this),this.GetMapView().display(),e.geocode(t,function(e,t){if(e.length==0)SiebelJS.Log("No address is found! "+t);else if(e.length==1){var i=e[0];if(i.accuracy<1)SiebelJS.Log("No address is found! "+t);else{var s="<span class='"+n.get("DEFAULT_SELECTED_MAP_ROW_IMAGE")+"' />",o=MVSdoGeometry.createPoint(i.x,i.y,8307),u=MVFOI.createHTMLFOI("1",o,s);r.GetMapView().addFOI(u),d.call(r,u)}}else SiebelJS.Log("Multiple addresses are found! "+t)})}function m(e,t){var n=this;a.call(n),this.GetMapView().display();var r=[],i=[];e.lon=e.coords.longitude,e.lat=e.coords.latitude,r[0]=e,r[1]=f.call(n,t),g.call(n,r)}function g(t){var n=this,r=new Array;r[0]=t;var i="#CC00CC",s=n.GetContainerId()+"_status";e.getDirections(r,l,function(t,n,r,i,o,u){switch(t){case OracleELocation.ERROR_GEOCODE_FAILED:$("#"+s).html(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_ERROR_GEOCODE_FAILED"));break;case OracleELocation.ERROR_ROUTE_ADDR_INVALID:$("#"+s).html(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_ERROR_ROUTE_ADDR_INVALID"));break;case OracleELocation.ERROR_ROUTE_FAILED:$("#"+s).html(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_ERROR_ROUTE_FAILED"));break;case OracleELocation.ERROR_ROUTE_NOT_FOUND:$("#"+s).html(SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_ERROR_ROUTE_NOT_FOUND"));break;default:}},{ignoreGeocodeErrorsForBatchRequests:!1},{mapview:n.GetMapView(),zoomToFit:!0,removePreviousRoutes:!0,drawMarkers:!0,getMarkerInfoStr:h,routeStyles:[[{render_style:{color:i,opacity:127,width:5},typeName:"Customer",label:"{time}. {distance}."}]]})}function y(n){var s=n.data.ctx,o=null;if(s.Get("IsInQueryMode")||i!==2)return;o=$(this);if((o.prop("tagName")||"").toLowerCase()==="a"&&!o.is(":disabled")){var u=s.GetDestAddressField();if(!t.IsEmpty(u)){var a=s.Get("GetRawRecordSet"),f=s.Get("GetSelection");if(f<0)return;var l=a[f][u];e||(e=new OracleELocation(r+"//elocation.oracle.com/elocation")),p.call(s,l)}SiebelApp.S_App.uiStatus.Free(),n.preventDefault()}o=null}var e,t=SiebelJS.Dependency("SiebelApp.Utils"),n=SiebelJS.Dependency("SiebelApp.Constants"),r=window.location.protocol,i=0;return SiebelJS.Extend(o,SiebelAppFacade.FieldPW),o.prototype.Init=function(){var e=this,t=this.Get("GetFullId");this.SetContainerId("RouteMap_"+t);var n=e.control.GetPMPropSet();n&&n.GetProperty("MapDestAddress")&&e.SetDestAddressField(n.GetProperty("MapDestAddress"));var r,i=$("#"+t),s=this.GetContainerId();i.append("<div class='siebui-map' id='"+s+"_dialog"+"'> <div style='width: 100%; height: 95%' id='"+s+"' >  </div><div id='"+s+"_status' ></div> </div> "),r=$("#"+s+"_dialog"),r.dialog({modal:!0,autoOpen:!1,appendTo:"#s_"+e.Get("GetFullId")+"_div",title:e.control.GetDisplayName,height:500,width:800,close:function(){$(this).hide(),e.EndLife()}})},o.prototype.ShowUI=function(){var e=n.get("SWE_CTRL_LINK"),t=this,r=this.GetEl(),i=this.ExecuteMethod("CanInvokeMethod",this.control.GetMethodName()),s=this.Get("GetAppletLabel"),o=i?this.control.GetEnabledBmp():this.control.GetDisabledBmp(),u=this.Get("GridFormContent")?this.control.GetSeq():"0",a=this.control.GetDisplayName();s!==""&&(s+=":");if(r){if(SiebelApp.S_App.IsConfigMode()===!0)var f=this.PrepareConfigAttrInfo(r);var l=SiebelAppFacade.HTMLTemplateManager.GenerateMarkup({type:e,id:this.control.GetInputName(),className:" siebui-icon-"+(this.control
.GetMethodName()||"").toLowerCase(),attrs:'name="'+this.control.GetInputName()+'" data-display="'+a+'" tabindex="'+u+'" title="'+s+a+'" '+'aria-label="'+s+a+'" '+(i===!0?" ":'disabled="disabled"')+(SiebelApp.S_App.IsConfigMode()===!0?f:"")});r.replaceWith(l),this.InjectQTPInfo(this.GetEl())}},o.prototype.BeginQuery=function(){var e=this.GetEl();e&&e.hide()},o.prototype.EndQuery=function(){var e=this.GetEl();e&&e.show()},o.prototype.SetState=function(e,n,r){var i=this.GetEl(r);if(i){if(this.Get("IsInQueryMode")){i.hide();return}var s=this.GetDestAddressField();if(!t.IsEmpty(s)){var o=this.Get("GetRawRecordSet");if(o.length==0){i.hide();return}var u=this.Get("GetSelection");if(u<0){i.hide();return}var a=o[u][s];t.IsEmpty(a)?i.hide():i.show()}else i.hide()}},o.prototype.BindEvents=function(){var e=this.GetEl(),t=this.Helper("EventHelper");e&&t.Manage(e,"click",{ctx:this},y)},o.prototype.EndLife=function(){delete this.GetMapView(),delete e},o}(),SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_PST_BUTTON_CTRL"),SiebelAppFacade.RoutePW,function(e){return e&&e.GetMethodName()==="ShowRoute"}),SiebelAppFacade.RoutePW})),typeof SiebelAppFacade.JSTreePW=="undefined"&&(SiebelJS.Namespace("SiebelAppFacade.JSTreePW"),define("siebel/jstreepw",["siebel/plaintxtpw","3rdParty/jstree/jquery.jstree.js"],function(){return SiebelAppFacade.JSTreePW=function(){function t(){SiebelAppFacade.JSTreePW.superclass.constructor.apply(this,arguments)}var e=SiebelJS.Dependency("SiebelApp.Constants");return SiebelJS.Extend(t,SiebelAppFacade.PlainTextPW),t.prototype.BindEvents=function(){SiebelAppFacade.JSTreePW.superclass.BindEvents.apply(this,arguments);var e=this.GetEl();e&&e.length&&e.bind("after_close.jstree after_open.jstree",function(){$(window).trigger("resizeTile")})},t.prototype.SetValue=function(e,t){var n=this.GetEl(t),r=$.parseJSON(e),i=SiebelApp.S_App.GetDirection();$(n).jstree("destroy"),$(n).jstree({core:{data:[r],rtl:i?!0:!1,themes:{url:!0,dir:SIEBEL_BUILD+"3rdParty/jstree/themes",name:"default",icons:!1,dots:!1},check_callback:!0},plugins:["ui","themes","html_data","hotkeys","crrm"]})},t}(),SiebelApp.S_App.PluginBuilder.AttachPW(consts.get("SWE_CTRL_PLAINTEXT"),SiebelAppFacade.JSTreePW,function(e){return e&&e.GetUIType()==="PlainText"&&e.GetHTMLAttr()==="JSTree"}),SiebelAppFacade.JSTreePW}));
